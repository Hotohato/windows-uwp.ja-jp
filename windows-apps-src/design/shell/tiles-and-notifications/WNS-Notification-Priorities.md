---
title: WNS 通知の優先順位
description: 通知設定できるさまざまな優先順位の説明
ms.date: 01/10/2017
ms.topic: article
keywords: windows 10、uwp、WinRT API では、WNS
localizationpriority: medium
ms.openlocfilehash: f5c4b9f1db58a091dc4f9389888ad3739c4439e5
ms.sourcegitcommit: b0edd3c09f931b9b62f9c2d17037fb58d826174f
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 06/25/2019
ms.locfileid: "67349871"
---
# <a name="wns-notification-priorities"></a>WNS 通知の優先順位
WNS POST メッセージを通知の優先度が単純なヘッダーを設定して、バッテリの機密性の高い状況で通知を配信する方法を制御できます。

## <a name="power-on-windows"></a>Windows の電源を入れます
多くのユーザーが、バッテリ電源デバイスでのみ作業している、電力使用量を最小限に抑えることと、すべてのアプリの標準の要件になっています。 アプリに提供される値よりも多くのエネルギーを消費する場合、ユーザーは、アプリをアンインストール可能性があります。 Windows オペレーティング システムでは、可能であれば、バッテリの電力使用量が減りますが、中には効率的に作業アプリの責任です。 

WNS の優先順位は、バッテリ電源の重要ではない作業を移動する 1 つの方法です。 WNS の優先順位は、システムに通知をすぐに配信して、デバイスが電源に接続されているまでに待機することができますを指示します。 これらのヒントを使用して、システムは、正確な時間は、ユーザーとアプリの両方に最も重要な通知を配信できます。 

## <a name="power-modes-on-the-device"></a>デバイスの電源モード
すべての Windows デバイスの電源モード (バッテリ、バッテリの省電力、および料金) のさまざまなを通じて動作し、ユーザーが別の電源モードでアプリからのさまざまな動作を期待します。 デバイスがオンのすべての通知を送信する必要があります。 バッテリー節約機能モードでは、最も重要な通知のみを配信する必要があります。 デバイスを接続には、同期または非時間の重要な操作を完了することができます。

Windows では、システムは、通知の適切な優先順位を設定するアプリに完全に依存するため、通知がすべてのユーザーまたはアプリにとって重要なを認識しません。 

## <a name="priorities"></a>優先順位
次の 4 つの優先順位はプッシュ通知を送信するときに使用するアプリを使用できます。 個々 の通知、通知をすぐに配信する必要がありますを選択することができます (IM メッセージなど) およびどれが待機できる優先度を設定 (写真の更新プログラムの連絡先など)。

優先順位は次のとおりです。 

|    Priority    |    ユーザーの上書き    |    説明    |    例    |
|----------------|---------------------|-------------------|---------------|
|    高    |    [はい] – ユーザーはアプリからのすべての通知をブロックできますか、バッテリー節約機能モードで調整されているアプリを防止できます。    |    配信されるすぐにどのような状況で、デバイスが通知を受信するときに最も重要な通知です。 などの VoIP 通話またはデバイスのスリープを解除する必要があります重大なアラートがこのカテゴリに分類されます。    |    VoIP 通話、時間、重大なアラート    |
|    中    |    [はい] – ユーザーはアプリからのすべての通知をブロックできますか、バッテリー節約機能モードで調整されているアプリを防止できます。    |    これらは、すぐに実行する必要はありませんが、重要なものとないものが、バック グラウンドで実行されていない場合、ユーザーがしかめ面とします。    |    電子メール アカウントの同期セカンダリ、ライブ タイルを更新します。    |
|    低    |    [はい] – ユーザーはアプリからのすべての通知をブロックできますか、バッテリー節約機能モードで調整されているアプリを防止できます。    |    意味のあるのみ、ユーザーがデバイスを使用するとき、またはバック グラウンド アクティビティが意味を通知します。 キャッシュはされ、ユーザーのサインインまたはプラグインするときに自分のデバイスにまで処理されません。    |    連絡先の状態 (オンラインまたはオフライン)    |
|    非常に低い     |    [いいえ] –、バッテリー節約機能モードで調整されているから通知を非常に低優先度を防ぐことはできません。    |    これはほぼ同じように優先度の低いユーザー以外は、バッテリー セーバー ポリシーをオーバーライドできません。 これらの通知は、決してバッテリー セーバーで配信されます。    |    同期サービスのファイルを同期します。    |

多くのアプリが通知のライフ サイクルを通じて異なる優先度を持つことに注意してください。 優先順位が-通知ごとに設定されているためこれは問題になりません。 VoIP アプリでは、着信呼び出しの優先度の高い通知を送信でき、その後、低優先度のいずれかの連絡先がオンラインにすることができます。 

## <a name="setting-the-priority"></a>優先順位の設定

通知要求の優先順位の設定は、POST 要求に追加のヘッダーによって行われます`X-WNS-PRIORITY`します。 これは、優先順位にマップされる 1 から 4 までの整数値です。 

| 優先度の名前 | 優先順位 WNS X の値 | 既定値: |
|---------------|----------------------|------------------|
| 高 | 1 | トースト |
| Meduim | 2 | タイルとバッジ |
| 低 | 3 | 直接 |
| 非常に低い | 4 |  |

ある旧バージョンと互換性がある、優先度の設定は必要ありません。 場合に、アプリは、通知の優先順位で設定されていない、システムは既定の優先順位を提供します。 既定値はの上側にグラフで表示され、Windows の既存のバージョンの動作と一致させます。 

## <a name="detailed-listing-of-desktop-behavior"></a>デスクトップの動作の詳細な一覧 

Windows 多く異なる Sku 間で、アプリを配布する場合は、前のセクションで、グラフに通常お勧めします。 

優先順位ごとより具体的な推奨される動作は、以下に示します。 各デバイスは、グラフに従って正確に動作する保証はありません。 Oem は、異なる動作を構成する自由がありますが、ほとんどは、このグラフの近くにします。 

| デバイスの状態    | 優先順位:高    |    優先順位:中        | 優先順位:低    |    優先順位:非常に低い    |
|-------------------------------------------------------|----------------------------------------------------|----------------------------------------------------|----------------------------------------------------|--------------------------|
|    画面上または電源に接続    |    配信    |    配信    |    配信    |    配信    |
|    画面オフとバッテリ使用時    |    配信    |    ユーザーを除外する場合: その他の配信: バッチ     |    ユーザーを除外する場合: その他の配信: キャッシュ *    |    キャッシュ    |
|    バッテリー セーバーを有効になっています。    |    ユーザーを除外する場合: その他の配信: キャッシュ    |    ユーザーを除外する場合: その他の配信: キャッシュ    |    ユーザーを除外する場合: その他の配信: キャッシュ    |    キャッシュ     |
|    バッテリ + バッテリー セーバーを有効になっている + スクリーン    |    ユーザーを除外する場合: その他の配信: キャッシュ    |    ユーザーを除外する場合: その他の配信: キャッシュ    |    ユーザーを除外する場合: その他の配信: キャッシュ    |    キャッシュ    |

オフ、既定では画面の優先度の低い通知が配信されると Windows Phone にはバッテリ ベースのデバイス。 MPNS の既存のポリシーとの互換性を maintian ではありません。 4 番目と 5 番目の行が同じである、さまざまなシナリオを呼び出す前にも注意してください。

バッテリー セーバーでのアプリを除外するには、ユーザー必要があります、"バッテリ使用量で"設定でアプリに移動して選択「許可アプリをバック グラウンド タスクを実行します」 このユーザーの選択は、高、中、低優先度の通知のバッテリー セーバーからアプリを除外します。 呼び出すこともできます[BackgroundExecutionManager API](https://docs.microsoft.com/uwp/api/windows.applicationmodel.background.backgroundexecutionmanager.requestaccesskindasync#Windows_ApplicationModel_Background_BackgroundExecutionManager_RequestAccessKindAsync_Windows_ApplicationModel_Background_BackgroundAccessRequestKind_System_String_)をプログラムで、ユーザーのアクセス許可を要求します。  

## <a name="related-topics"></a>関連トピック
- [Windows プッシュ通知サービス (WNS) の概要](windows-push-notification-services--wns--overview.md)
- [バック グラウンドで実行するアクセス許可を要求します。](https://docs.microsoft.com/uwp/api/windows.applicationmodel.background.backgroundexecutionmanager.requestaccesskindasync#Windows_ApplicationModel_Background_BackgroundExecutionManager_RequestAccessKindAsync_Windows_ApplicationModel_Background_BackgroundAccessRequestKind_System_String_)
