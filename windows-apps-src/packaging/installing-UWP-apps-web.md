---
author: laurenhughes
title: Web ページから UWP アプリをインストールする
description: このセクションでは、ユーザーが直接 Web ページからアプリをインストールできるようにするために必要な手順を確認します。
ms.author: lahugh
ms.date: 11/16/2017
ms.topic: article
keywords: windows 10, uwp, アプリ インストーラー, AppInstaller, サイドローディング, 関連セット, オプション パッケージ
ms.localizationpriority: medium
ms.openlocfilehash: 98a761bf04b56d13745f2505b8d0806fc4fdf3e1
ms.sourcegitcommit: e2fca6c79f31e521ba76f7ecf343cf8f278e6a15
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/15/2018
ms.locfileid: "6987497"
---
# <a name="installing-uwp-apps-from-a-web-page"></a>Web ページから UWP アプリをインストールする

一般的に、アプリ インストーラーでアプリをインストールするには、デバイスでそのアプリのローカル使用が可能な状態にしておく必要があります。 Web シナリオの場合は、後でアプリ インストーラーによってインストールできるように、ユーザーが Web サーバーからアプリ パッケージをダウンロードする必要があります。 この手順は非効率でありディスク容量も無駄になるため、プロセスを効率化する機能がアプリ インストーラーに組み込まれました。

アプリ インストーラーでは、直接 Web サーバーからアプリをインストールできます。 ユーザーがアプリ パッケージの Web リンクをクリックすると、自動的にアプリ インストーラーが呼び出されます。 するとアプリ インストーラーのアプリ情報ビューが開き、1 回のクリックで、アプリに対する操作を開始できます。 

アプリの直接インストールは、Windows 10 Fall Creators Update 以降のみで利用できます。 Windows の以前のバージョン (Windows 10 Anniversary Update 以降) は、[以前のバージョンの Windows 10 での Web インストール エクスペリエンス](#web-install-experience)でサポートされます。 このエクスペリエンスは、アプリの直接インストールほどスムーズではありませんが、従来のアプリ インストール手順に比べると大きく改善されています。
  
> [!NOTE]
> この機能をサポートするには、1.0.12271.0 より新しいバージョンのアプリ インストーラーが必要です。

## <a name="protocol-activation-scheme"></a>プロトコルのアクティブ化スキーム
このメカニズムでは、オペレーティング システムのプロトコル アクティブ化スキームにアプリ インストーラーが登録されます。 ユーザーが Web リンクをクリックすると、その Web リンクに登録されているアプリについて、ブラウザーが OS に確認します。 そのスキームが、アプリ インストーラーによって指定されたプロトコル アクティブ化スキームに一致すると、アプリ インストーラーが呼び出されます。 このメカニズムはブラウザーに依存しないことに注意してください。 この点は、サイト管理者などにとって有益です。この機能を Web ページに組み込む場合に、Web ブラウザーの相違点を考慮する必要がありません。 

### <a name="requirements-for-protocol-activation-scheme"></a>プロトコルのアクティブ化スキームの要件

1. Web サーバーは、バイト範囲要求 (http/1.1) をサポートする必要があります。
    - Http/1.1 プロトコルをサポートするサーバーはバイト範囲要求のサポートが必要 
2. Web サーバーが Windows 10 アプリ パッケージのコンテンツの種類について知っておく必要があります。
    - [Web config ファイル](web-install-IIS.md#step-7---configure-the-web-app-for-app-package-mime-types)の一部として新しいコンテンツの種類を宣言する方法を示します

### <a name="how-to-enable-this-on-a-webpage"></a>Web ページでこの機能を有効にする方法 
アプリ開発者が独自の Web サイトでアプリ パッケージをホストする場合は、以下の手順を実行する必要があります。

アプリ パッケージの URI を Web ページで参照する場合は、URI の前にプレフィックスとしてアプリ インストーラーの登録先であるアクティブ化スキーム `'ms-appinstaller:?source='` を指定します。 詳しくは、**MyApp Web Page** の例をご覧ください。 
``` html
<html>
    <body>
        <h1> MyApp Web Page </h1>
        <a href="ms-appinstaller:?source=http://mywebservice.azureedge.net/HubApp.appx"> Install app package </a>
        <a href="ms-appinstaller:?source=http://mywebservice.azureedge.net/HubAppBundle.appxbundle"> Install app bundle  </a>
        <a href="ms-appinstaller:?source=http://mywebservice.azureedge.net/HubAppSet.appinstaller"> Install related set </a>
    </body>
</html>
```

## <a name="signing-the-app-package"></a>アプリ パッケージの署名
ユーザーがアプリをインストールするには、信頼された証明書でアプリ パッケージに署名する必要があります。 アプリ パッケージへの署名には、信頼された証明機関によるサードパーティの有料証明書を使用できます。 サードパーティの証明書を使用する場合、ユーザーはデバイスをサイドローディング モードか開発者モードにしてアプリをインストールおよび実行する必要があります。

エンタープライズ内の従業員にアプリを展開する場合、アプリへの署名にはエンタープライズが発行した証明書を使用できます。 アプリをインストールするあらゆるデバイスにエンタープライズ証明書を展開する必要がある点に注意してください。 エンタープライズ アプリを展開する方法について詳しくは、[エンタープライズ アプリ管理に関するページ](https://docs.microsoft.com/windows/client-management/mdm/enterprise-app-management)をご覧ください。

## 以前のバージョンの Windows 10 での Web インストール エクスペリエンス<a name="web-install-experience"></a>

ブラウザーからのアプリ インストーラーの呼び出しは、アプリ インストーラーが利用可能なすべてのバージョンの Windows 10 (Anniversary Update 以降) でサポートされています。 パッケージをあらかじめダウンロードせずに Web から直接インストールするための機能は、Windows 10 Fall Creators Update のみで利用可能です。  

以前の (アプリ インストーラーが利用可能な) バージョンの Windows 10 のユーザーは、アプリ インストーラー経由で UWP アプリの Web インストールも利用できますが、ユーザー エクスペリエンスは異なります。 これらのユーザーが Web リンクをクリックすると、アプリ インストーラーによりパッケージの**インストール**ではなく**ダウンロード**が求められます。 ダウンロードが完了すると、ダウンロードされたパッケージの起動がアプリ インストーラーによって自動的に開始されます。 アプリ パッケージは Web からダウンロードされるため、これらのファイルには Microsoft SmartScreen のセキュリティ チェックが行われます。 ユーザーが続行を許可して **[インストール]** をクリックすると、アプリが使用可能になります。

このフローは Windows 10 Fall Creators Update での直接インストールほどシームレスではありませんが、ユーザーは迅速にアプリに対する操作を開始できます。 さらに、このフローでは、アプリ パッケージ ファイルによってドライブの容量が不必要に消費される心配もありません。 アプリ インストーラーは、自身のアプリ データ フォルダーにパッケージをダウンロードし、不要になったパッケージをクリーンアップすることで、領域を効率的に管理します。 

次の早見表では、アプリ インストーラーの Windows 10 Fall Creators Update バージョンと、アプリ インストーラーの以前のバージョンを比較しています。

| 最新バージョンのアプリ インストーラーの場合 | 以前のバージョンのアプリ インストーラーの場合 |
|------------------------------|----------------------------------|
| ダウンロードの開始前にアプリ インストーラーにアプリ情報が表示される | ダウンロードを選択するようにブラウザーがユーザーに求める  |
| アプリ インストーラーがダウンロードを実行する | アプリ パッケージの起動をユーザーが手動で開始する必要がある |
| パッケージのダウンロード後にアプリ インストーラーが自動的にアプリ パッケージを起動する | ユーザーが **[インストール]** をクリックしてアプリ パッケージを手動で起動する必要がある |
| ダウンロードしたパッケージの破棄はアプリ インストーラーが処理する | ダウンロードしたファイルをユーザーが手動で削除する必要がある |

## <a name="web-install-experience-on-previous-versions-of-windows-10"></a>以前のバージョンの Windows 10 での Web インストール エクスペリエンス
Windows 10 Fall Creators Update より前のバージョンでは、アプリ インストーラーが直接 Web からアプリをインストールすることはできません。 これらのバージョンでアプリ インストーラーがインストールできるのは、ローカルで利用可能なアプリ パッケージのみです。 アプリ インストーラーはパッケージをダウンロードし、インストールするダウンロード済みパッケージをダブルクリックするようにユーザーに求めます。


## <a name="microsoft-smartscreen-integration"></a>Microsoft SmartScreen の統合

Microsoft SmartScreen は常に、アプリ インストーラー経由でアプリをインストールするためのインストール プロセスに含まれていました。 SmartScreen は、ユーザーのデバイスを攻撃する悪意のあるコンテンツからユーザーを保護します。 アプリ インストーラーの最新の更新では、SmartScreen 統合がよりシームレスかつ堅牢になっており、不明なアプリのインストール時に警告が提供され、デバイスが損害から保護されます。 
