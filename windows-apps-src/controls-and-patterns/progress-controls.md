---
author: Jwmsft
Description: "プログレス コントロールは、時間のかかる操作が進行中であることを示すフィードバックをユーザーに返します。"
title: "プログレス コントロールのガイドライン"
ms.assetid: FD53B716-C43D-408D-8B07-522BC1F3DF9D
label: Progress controls
template: detail.hbs
translationtype: Human Translation
ms.sourcegitcommit: c183f7390c5b4f99cf0f31426c1431066e1bc96d
ms.openlocfilehash: 8a03ca36f6e306a03e8aec7b46e51bfff0079bf5

---
# プログレス コントロール

プログレス コントロールは、時間のかかる操作が進行中であることを示すフィードバックをユーザーに返します。 進行状況*確定*バーは、操作の完了割合を示します。 進行状況*不定*バーと進行状況リングは、操作が進行中であることを示します。

プログレス コントロールは読み取り専用です。対話型ではありません。

<span class="sidebar_heading" style="font-weight: bold;">重要な API</span>

-   [**ProgressBar クラス**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.progressbar.aspx)
-   [**IsIndeterminate プロパティ**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.progressbar.isindeterminate.aspx)
-   [**ProgressRing クラス**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.progressring.aspx)
-   [**IsActive プロパティ**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.progressring.isactive.aspx)

![Windows アプリ: 進行状況不定バー、進行状況リング、進行状況確定バー](images/ProgressBar.png)

Windows アプリ: 進行状況不定バー、進行状況リング、進行状況確定バー

![Windows Phone アプリ: ステータス バーの進行状況インジケーターと進行状況バー](images/wp_progress_bar.png)

Windows Phone アプリ: ステータス バーの進行状況インジケーターと進行状況バー

## 例

スプラッシュ画面の進行状況不定リング コントロールの例を次に示します。

![標準的な進行状況リング コントロールを示すスクリーンショット](images/ProgressBar_Standard.png)

進行状況バーは、状態や位置を示す優れたインジケーターでもあります。 音楽トラックで使われる進行状況バーは、曲のタイムラインに対応しています。バーの値は、曲の位置を示します。一時停止状態は、再生が一時停止されていることを示します。

![Xbox ミュージック アプリでは、曲を再生すると進行状況バーが表示されます](images/ProgressBar_MusicTimeline.png)

## 適切なコントロールの選択

常にプログレス コントロールを示す必要があるわけではありません。 タスクが進行中であることが十分に明白であったり、タスクがすぐに完了するのでプログレス コントロールを表示するとわずらわしかったりする場合もあります。 プログレス コントロールを表示するかどうかを判断するときには、次のような点を考慮します。

-   **操作を完了するまでに 2 秒より長くかかるか**

    そうである場合は、操作を開始したらすぐに、プログレス コントロールを表示します。 操作の完了までに 2 秒より長い時間が通常かかるとしても、2 秒未満で完了することもある場合は、ちらつきを避けるために、500 ミリ秒待機してからコントロールを表示します。

-   **操作は、ユーザーがタスクを完了するのを待っているか?**

    そうである場合は、プログレス バーを使いません。 プログレス バーは、ユーザーの作業ではなく、コンピューターの作業の進行状況を示すものです。

-   **何かが行われていることをユーザーが知る必要があるか?**

    たとえば、アプリがバックグラウンドで何かをダウンロードしていて、ダウンロードを開始したのがユーザーでない場合、ユーザーはそのことを知る必要がありません。

-   **操作が、ユーザーのアクティビティをブロックしないバックグラウンド アクティビティであり、ユーザーにはほとんど関与しない (少しだけ関与する) か?**

    アプリが、常に見えている必要はないものの、進行状況を表示する必要はあるタスクを実行している場合は、テキストと省略記号を使います。

    ![進行状況インジケーターとしてのテキストの例](images/textprogress.png)

    タスクが進行中であることを示すために、省略記号を使います。 複数のタスクまたは項目がある場合は、残りのタスクの数を示すことができます。 すべてのタスクが完了したら、インジケーターを消します。

-   **進行状況を視覚化するために、操作からのコンテンツを使えるか?**

    使える場合は、プログレス コントロールを表示しません。 たとえば、ディスクから読み込まれる /src/assets を表示する場合は、/src/assets が読み込まれるたびに、画面に 1 つずつ表示されます。 プログレス コントロールを表示しても、余分な UI が増えるだけで、何の利点もありません。

-   **操作の進行中に、作業が全体に対してどの程度完了したかを決定できるか?**

    その場合は進行状況確定バーを使います。ユーザーをブロックする作業の場合は特に使ってください。 それ以外の場合は、進行状況不定バーまたは進行状況リングを使います。 ユーザーは何かが行われていることを知るだけですが、それでも十分に有用です。

## 進行状況確定コントロールの作成

進行状況確定バーには、アプリで実行された作業量が示されます。 作業の進行に合わせて、バーが塗りつぶされます。 時間単位、バイト単位、ファイル単位などの定量化できる測定単位で残りの作業量を推定できる場合は、進行状況確定バーを使います。

進行状況バーには、進行状況の設定と判断のためのプロパティが複数あります。
- [
              **IsIndeterminate**
            ](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.progressbar.isindeterminate.aspx): 進行状況バーが不定であるかどうかを指定します。 **false** に設定すると、進行状況確定バーが作成されます。
- [
              **Minimum**
            ](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.primitives.rangebase.minimum.aspx): 値の範囲の開始点。 既定値は 0.0 です。
- [
              **Maximum**
            ](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.primitives.rangebase.maximum.aspx): 値の範囲の終了点。 既定値は 1.0 です。 
- [
              **Value**
            ](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.primitives.rangebase.value.aspx): 現在の進行状況を示す数値。 ファイルのダウンロードの進行状況を表示する場合、この値はダウンロード済みのバイト数になります (さらに、Maximum を、ダウンロードする全バイト数に設定します)。
 
次の例では、値ベースの進行状況確定バーを示しています。 

```xaml
<ProgressBar IsIndeterminate="False" Maximum="100" Width="200"/>
```

```csharp
ProgressBar progressBar1 = new ProgressBar();
progressBar1.IsIndeterminate = false;
progressBar1.Maximum = 100;
progressBar1.Width = 200;

// Add the button to a parent container in the visual tree.
stackPanel1.Children.Add(progressBar1);
```

通常、マークアップで進行状況バーの値を指定しません。 代わりに、手続き型コードまたはデータ バインディングを使って、進行状況インジケーターに対する応答として進行状況バーの値を更新します。 たとえば、進行状況バーを使ってダウンロード済みファイル数を示す場合、ファイルがダウンロードされるたびに値を更新します。

## 進行状況不定コントロールの作成

タスクが完了するまでの残りの作業量を推定できず、タスクの実行中にユーザー操作がブロックされない場合は、進行状況不定バーや進行状況リングを使います。 進行状況不定バーでは、作業が完了すると塗りつぶされるバーではなく、左から右へ移動する点のアニメーションが表示されます。 進行状況不定リングでは、複数の点が円を描いて移動するアニメーションが示されます。 

進行状況バーを不定にするには、[**IsIndeterminate**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.progressbar.isindeterminate.aspx) プロパティを **true** に設定します。

```xaml
<ProgressBar IsIndeterminate="True" Width="200"/>
```

```csharp
ProgressBar progressBar1 = new ProgressBar();
progressBar1.IsIndeterminate = true;
progressBar1.Width = 200;

// Add the button to a parent container in the visual tree.
stackPanel1.Children.Add(progressBar1);
```

アプリで進行状況リングを表示するには、[**IsActive**](https://msdn.microsoft.com/library/windows/apps/xaml/windows.ui.xaml.controls.progressring.isactive.aspx) プロパティを **true** に設定します。

```xaml
<ProgressRing IsActive="True"/>
```

```csharp
ProgressRing progressRing1 = new ProgressRing();
progressRing1.IsActive = true;

// Add the button to a parent container in the visual tree.
stackPanel1.Children.Add(progressRing1);
```

## 推奨事項

-   タスクが確定的である場合、つまり、継続時間が明確に定義されていたり、終了が予測可能だったりする場合は、進行状況確定バーを使います。 たとえば、時間単位、バイト単位、ファイル単位などの定量化できる測定単位で残りの作業量を推定できる場合は、進行状況確定バーを使います。 確定的なタスクには、次のような例があります。

    -   アプリが 500 k の写真をダウンロードしていて、これまでに 100 k を受信した。
    -   アプリが 15 秒の広告を表示していて、2 秒が経過した。

    ![進行状況確定バーの例](images/progress_determinate_bar.png)

-   ユーザーの操作をブロックするモーダルな確定的でないタスクでは、進行状況不定バーを使います。

    ![進行状況リングの例](images/progress_ring.png)

-   ユーザーの操作をブロックしない非モーダルな確定的でないタスクでは、進行状況不定バーを使います。

    ![進行状況不定バーの例](images/progress_indeterminate_bar.png)

-   一部モーダルなタスクで、モーダルな状態が 2 秒未満である場合は、非モーダルなタスクとして扱います。 一部のタスクは、処理がある程度進むまで操作をブロックし、その後はユーザーがアプリの操作を始められるようになります。 たとえば、ユーザーが検索クエリを実行した場合、最初の結果が表示されるまでは操作がブロックされます。 このようなタスクは、モーダルな状態が 2 秒未満である場合は非モーダルとして扱い、進行状況不定バー スタイルを使います。 モーダルな状態が 2 秒より長く続く場合は、タスクのモーダルなフェーズでは進行状況不定リングを使い、非モーダルなフェーズでは進行状況不定バーを使います。
-   進行中の操作をキャンセルするか一時停止するための方法を用意することを検討します。操作が完了するまでユーザーがブロックされるときに、操作の残りの実行時間が明らかな場合は、特に考慮してください。
-   アクティビティを示すために、"待機カーソル" は使いません。システムの操作にタッチを使っているユーザーには表示されず、マウスを使っているユーザーにはアクティビティを視覚化する方法が 2 つ (カーソルとプログレス コントロール) は必要ないためです。
-   複数のアクティブな関連するタスクには、1 つのプログレス コントロールを表示します。 画面に複数の関連する項目があり、すべてがなんらかのアクティビティを同時に行う場合でも、複数のプログレス コントロールは表示しません。 代わりに、最後のタスクの完了時に終了する 1 つのプログレス コントロールを表示します。 たとえば、アプリが複数の写真をダウンロードする場合は、写真ごとにプログレス コントロールを表示するのではなく、1 つだけを表示します。
-   タスクの実行中は、プログレス コントロールの場所やサイズを変更しません。

### 確定的タスクのガイドライン

-   操作がモーダルで (ユーザーの操作がブロックされ)、10 秒より長い時間がかかる場合は、操作を取り消す方法を用意します。 操作を取り消すためのオプションは、操作の開始と同時に使えるようにします。
-   進行状況は均等に更新します。 進行状況が 80% を超えた後で長い間停止するような状況にならないようにします。 進行が終わりに近づくにつれて、スピードが下がるのではなく、上がることが望まれます。 0% から 90% に飛躍するようなことも、ないようにします。
-   進行状況が 100% になった後、進行状況確定バーがアニメーションを終了するまで待機してから、バーを非表示にします。
-   タスクはユーザーまたは外部の条件によって停止したが、ユーザーがタスクを再開できる場合は、進行が一時停止されていることをはっきりと示します。 JavaScript アプリでは、win-paused CSS スタイルを使います。 C\#/C++/VB アプリでは、ShowPaused プロパティを true に設定します。 進行状況バーの下に、何が起こっているかを示す状態テキストを示します。
-   タスクが停止し、再開できないか始めからやり直す必要がある場合は、エラーが発生したことをはっきりと示します。 JavaScript アプリでは、win-error CSS スタイルを使います。 C\#/C++/VB アプリでは、ShowError プロパティを true に設定します。 バーの下の状態テキストを、何が起きてどのように問題に対処すればよいか (可能な場合) をユーザーに知らせるメッセージに置き換えます。
-   進行状況確定バーを表示する前に、多少の時間 (またはなんらかのアクション) が必要な場合は、まず進行状況不定バーを使い、その後で進行状況確定バーに切り替えます。 たとえば、ダウンロード タスクの最初の手順がサーバーへの接続である場合、接続にかかる時間は推定できません。 接続の確立後に、進行状況確定バーに切り替えて、ダウンロードの進行状況を表示します。 切り替え後も、進行状況バーは正確に同じ位置、同じサイズになるようにします。

    ![進行状況不定バーから進行状況確定バーへの変更](images/progress_changing.png)

-   プリンター一覧のような項目の一覧があるときに、一覧の項目に対してなんらかの操作 (いずれかのプリンター用のドライバーのインストールなど) を開始できる場合は、項目の横に進行状況確定バーを表示します。

    進行状況バーの上にタスクの表題 (ラベル)、下に状態を表示します。 何が起きているかが明白な場合は、状態テキストは表示しません。 タスクの完了後は、進行状況バーを非表示にします。 状態テキストは、項目の新しい状態を知らせるために使います。

    ![インラインでの進行状況と状態の表示](images/progress_multiplebars.png)

-   タスク一覧を表示するには、コンテンツをグリッド内で整列させ、ユーザーが状態をひとめで見られるようにします。 保留中の項目も含めて、すべての項目の進行状況バーを表示します。

    この一覧の目的は進行中の操作を示すことなので、完了した操作は一覧から削除します。

    ![複数の進行状況バーの表示](images/progress_bar_multiple.png)

-   ユーザーがアプリ バーからタスクを開始し、ユーザーの操作がブロックされた場合は、アプリ バーにプログレス コントロールを表示します。

    進行状況バーが何の進行状況を示しているかが明白な場合は、進行状況バーをアプリ バーの上部に配置して、ラベルと状態は省略できます。そうでない場合は、ラベルと状態テキストを表示します。

    アプリ バーのコントロールを無効にし、コンテンツ領域への入力を無視して、タスクの間は操作を無効にします。

-   進行状況を後退させないでください。 進行状況の値は常に増やします。 操作を元に戻さなければならない場合は、他の操作の進行状況を示すのと同じように、元に戻す処理の進行状況を示します。
-   現在の手順またはタスクが最後のものでないことがユーザーに明白でない場合は、進行状況を再開始 (100% から 0% に) しないようにします。 たとえば、データのダウンロードと、そのデータの処理および表示という 2 つの部分がタスクにあるとします。 ダウンロードが完了した後、進行状況バーを 0% にリセットし、データ処理の進行状況の表示を始めます。 タスクに複数の手順が含まれていることがユーザーに明白でない場合は、タスクを 1 つの 0 ～ 100% の尺度にまとめて、1 つのタスクから次のタスクに移る際に状態テキストを更新します。

### 進行状況リングを使う不定的なモーダル タスクのガイドライン

-   操作のコンテキスト内に進行状況リングを表示します。つまり、ユーザーが操作を開始した場所または結果のデータが表示される場所の近くにリングを表示します。
-   進行状況リングの右側に状態テキストを示します。
-   進行状況リングの色を状態テキストの色と同じにします。
-   タスクの実行中にユーザーが操作してはいけないコントロールを無効にします。
-   タスクの結果がエラーになった場合は、進行状況インジケーターと状態テキストを非表示にして、その場所にエラー メッセージを表示します。
-   ダイアログでは、次の画面に移動する前に操作を完了する必要がある場合は、進行状況リングをボタン領域のすぐ上に、ダイアログのコンテンツと左揃えで配置します。

    ![ダイアログでの進行状況](images/prog_ring_dialog.png)

-   右揃えのコントロールがあるアプリ ウィンドウでは、進行状況リングを、処理を引き起こしたコントロールの左またはすぐ上に配置します。 進行状況リングを、関連するコンテンツと左揃えで配置します。

    ![右揃えのコントロールがあるアプリ ウィンドウでの進行状況の表示](images/prog_right_aligned_controls.png)

-   左揃えのコントロールがあるアプリ ウィンドウでは、進行状況リングを、処理を引き起こしたコントロールの右またはすぐ下に配置します。

    ![左揃えのコントロールと進行状況リング](images/prog_left_aligned_1.png)

    ![左揃えのコントロールの下の進行状況リング](images/prog_left_aligned_2.png)

-   複数の項目を表示している場合は、項目のタイトルの下に、進行状況リングと状態テキストを配置します。 エラーが発生した場合は、進行状況リングと状態をエラー テキストに置き換えます。

    ![複数項目の一覧での進行状況リング](images/prog_ring_multiple.png)

### 進行状況リングを使う不定的な非モーダル タスクのガイドライン

-   ポップアップの中に進行状況を表示する場合は、ポップアップの上部に進行状況不定バーを配置し、幅はポップアップ全体にわたるように設定します。 このように配置すると、不必要に目立つことなく、進行中のアクティビティを示すことができます。 ポップアップにタイトルを表示すると、上部に進行状況バーを配置できなくなるので、タイトルは表示しません。

    ![ポップアップでの進行状況不定バー](images/prog_flyout_indeterminate_bar.png)

-   アプリ ウィンドウに進行状況を表示する場合は、アプリ ウィンドウの最上部に、ウィンドウ全体にわたるように進行状況不定バーを配置します。

    ![アプリ ウィンドウの上部の進行状況バー](images/prog_indeterminate_bar_app_window.png)

### 状態テキストのガイドライン

-   進行状況確定バーを使う場合は、状態テキストに進行状況の割合を表示しません。 コントロール自体に、その情報が含まれています。
-   プログレス コントロールなしでアクティビティを示すためにテキストを使う場合は、アクティビティが進行中であることを表すために省略記号を使います。
-   プログレス コントロールを使う場合は、操作が進行中であることをプログレス コントロール自体が示しているので、状態テキストでは省略記号を使いません。

### 外観とレイアウトのガイドライン

-   進行状況確定バーは、背景が灰色のバーの中を徐々に埋めていく色付きのバーとして表示されます。 色付きのバーの全長部分が、操作がどの程度完了したかを相対的に示します。
-   進行状況不定バーまたは進行状況リングは、常に移動する色付きの点で構成されます。
-   プログレス コントロールをどの程度目立つ位置に配置するかどうかは、その重要性に基づいて決定します。

    重要なプログレス コントロールは特定の行動を促す印として使うことができ、システムが作業を完了した後で特定の操作が再開されることをユーザーに伝えます。 組み込みの Windows Phone アプリの一部では、重要度に応じて、画面の上部にステータス バーの進行状況インジケーターを使っています。 同じようにすることができ、確定または不定になるように構成できます。

    重要度が低い場合 (ダウンロード中など) は、小さいサイズのコントロールを 1 つのビューに限定して表示します。

-   ラベルを使って、進行状況の値を表示するか、進行中の処理を説明するか、処理が中断されていることを示します。 ラベルはオプションですが、使うことを強くお勧めします。

    進行中の処理を説明する場合は、動名詞を使います (例: '接続中'、'ダウンロード中'、'送信中')。

    進行が一時停止したり例外が発生しりした場合は、過去形を使います (例: '一時停止しました'、'ダウンロードは失敗しました'、'取り消されました')。

-   ラベルと状態付きの進行状況確定バー

    ![ラベルと状態情報付きの進行状況確定バー](images/progress_bar_determinate_redline.png)

-   複数の進行状況バー

    ![複数の進行状況バーのための推奨レイアウト](images/progress_bar_multi_redline.png)

-   状態テキスト付きの進行状況不定リング

    ![状態テキスト付きの進行状況不定リングのためのレイアウト](images/progress_ring_status_text.png)

-   進行状況不定バー

    ![進行状況不定バーのためのレイアウト](images/progress_indeterminate_bar_redline.png)

## その他の使い方のガイダンス

### 進行状況のスタイルを選ぶためのデシジョン ツリー

-   **何かが行われていることをユーザーが知る必要があるか?**

    必要がない場合は、プログレス コントロールを表示しません。

-   **タスクの完了に要する時間に関する情報があるか?**
    -   **ある場合:**
            **タスクを完了するまでに 2 秒より長くかかるか?**
        -   **かかる場合:** 進行状況確定バーを使います。 10 秒より長くかかるタスクの場合は、タスクを取り消す方法を用意します。
        -   **かからない場合:** プログレス コントロールを表示しません。

    -   **ない場合:**
            **タスクが完了するまでユーザーは UI を操作できないか?**
        -   **できない場合:**
            **このタスクは、操作の特定の詳細をユーザーが認識する必要がある複数手順の一部か?**
            -   **そうである場合:** 画面の中央に水平に配置された状態テキストがある進行状況不定リングを使います。
            -   **そうではない場合:** 画面の中央にテキストのない進行状況不定リングを使います。
        -   **できる場合:**
            **これは主要アクティビティか?**
            -   **そうである場合:**
            **進行状況は UI の特定の 1 つの要素に関連しているか?**
                -   **関連している場合:** その関連する UI 要素の横に状態テキストがあるインラインの進行状況不定リングを使います。
                -   **関連していない場合:**
            **大量のデータが一覧に読み込まれているか?**
                    -   **読み込まれている場合:** 受信したコンテンツを表すプレースホルダーの上部の進行状況不定バーを使います。
                    -   **読み込まれていない場合:** 画面またはサーフェイスの上部の進行状況不定バーを使います。
            -   **そうではない場合:** 画面の上隅の状態テキストを使います。

## 関連記事


- [**ProgressBar クラス**](https://msdn.microsoft.com/library/windows/apps/br227529)
- [**ProgressRing クラス**](https://msdn.microsoft.com/library/windows/apps/br227538)

**開発者向け (XAML)**
- [プログレス コントロールの追加](https://msdn.microsoft.com/library/windows/apps/xaml/hh780651)
- [Windows Phone 向けのカスタム進行状況不定バーを作成する方法](http://go.microsoft.com/fwlink/p/?LinkID=392426)



<!--HONumber=Jun16_HO4-->


