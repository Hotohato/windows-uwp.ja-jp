---
Description: このチュートリアルでは、A/B テストを使用して最初の実験を作成、実行、管理します。
title: 最初の実験を作成して実行する
ms.assetid: 16A2B129-14E1-4C68-86E8-52F1BE58F256
ms.date: 02/08/2017
ms.topic: article
keywords: Windows 10, UWP, Microsoft Store Services SDK, A/B テスト, 実験
ms.localizationpriority: medium
ms.openlocfilehash: 8dba9095326c01029e14742c98c1c368b896dfb8
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2019
ms.locfileid: "57660217"
---
# <a name="create-and-run-your-first-experiment"></a>最初の実験を作成して実行する

このチュートリアルでは、次の作業を行います。
* 実験の作成[プロジェクト](run-app-experiments-with-a-b-testing.md#terms)パートナー センターのテキストと、アプリのボタンの色を表すいくつかのリモート変数が定義されます。
* リモート変数の値を取得し、このデータを使用して、ボタンの背景色を変更する、ログ ビューをコードでアプリを作成し、イベント データの変換は、パートナー センターにバックアップします。
* アプリのボタンの背景色を変更するとボタンのクリック回数が正常に増えるかどうかをテストする実験をプロジェクトに作成します。
* アプリを実行して、試験的機能のデータを収集します。
* パートナー センターで実験結果を確認、アプリのすべてのユーザーを有効にするバリエーションの 1 つを選択し、実験を完了します。

A の概要についてはパートナー センターでのテストを B を参照してください/ [A でアプリの実験を実行 B のテスト/](run-app-experiments-with-a-b-testing.md)。

## <a name="prerequisites"></a>前提条件

このチュートリアルを実行するには、パートナー センター アカウントが必要し、」の説明に従って、開発用コンピューターを構成する必要があります[A でアプリの実験を実行する B のテスト/](run-app-experiments-with-a-b-testing.md)します。

## <a name="create-a-project-with-remote-variables-in-partner-center"></a>パートナー センターで変数をリモートでプロジェクトを作成します。

1. [パートナー センター](https://partner.microsoft.com/dashboard)にサインインします。
2. 実験の作成に使用するパートナー センターでアプリを既にがある場合は、パートナー センターでそのアプリを選択します。 まだアプリがあるない、パートナー センターの場合[の名前を予約することで、新しいアプリを作成する](../publish/create-your-app-by-reserving-a-name.md)し、パートナー センターでそのアプリを選択します。
3. ナビゲーション ウィンドウで、**[サービス]** をクリックし、**[Experimentation]** (試験的機能) をクリックします。
4. 次のページの **[プロジェクト]** セクションで、**[新しいプロジェクト]** ボタンをクリックします。
5. **[新しいプロジェクト]** ページで、新しいプロジェクトの名前として「**Button Click Experiments**」と入力します。
6. **[リモート変数]** セクションを展開し、**[変数の追加]** を 4 回クリックします。 これで、空の変数行が 4 行追加されます。
  * 最初の行で、変数名として「**buttonText**」と入力し、**[既定値]** 列に「**Grey Button**」と入力します。
  * 2 番目の行で、変数名として「**r**」と入力し、**[既定値]** 列に「**128**」と入力します。
  * 3 番目の行で、変数名として「**g**」と入力し、**[既定値]** 列に「**128**」と入力します。
  * 4 番目の行で、変数名として「**b**」と入力し、**[既定値]** 列に「**128**」と入力します。
7. **[保存]** をクリックし、**[SDK 統合]** セクションに表示される[プロジェクト ID](run-app-experiments-with-a-b-testing.md#terms) 値を書き留めます。 次のセクションでは、アプリのコードを更新し、コードでこの値を参照します。

## <a name="code-the-experiment-in-your-app"></a>アプリで実験のコードを記述する

1. Visual Studio で、Visual C# を使用して新しいユニバーサル Windows プラットフォーム プロジェクトを作成します。 プロジェクトに「**SampleExperiment**」という名前を付けます。
2. ソリューション エクスプローラーで、プロジェクト ノードを展開し、**[参照設定]** を右クリックして **[参照の追加]** をクリックします。
3. **[参照マネージャー]** で、**[ユニバーサル Windows]** を展開し、**[拡張機能]** をクリックします。
4. SDK の一覧で、**[Microsoft Engagement Framework]** の横にあるチェック ボックスをオンにして、**[OK]** をクリックします。
5. **ソリューション エクスプローラー**で、MainPage.xaml をダブルクリックして、アプリでメイン ページのデザイナーを開きます。
6. **[ツールボックス]** からページに**ボタン**をドラッグします。
7. デザイナーでボタンをダブルクリックしてコード ファイルを開き、**Click** イベントのイベント ハンドラーを追加します。  
8. コード ファイルのすべての内容を次のコードで置き換えます。 割り当てる、```projectId```変数を[プロジェクト ID](run-app-experiments-with-a-b-testing.md#terms)前のセクションで、パートナー センターから取得した値です。
    [!code-cs[SampleExperiment](./code/StoreSDKSamples/cs/ExperimentPage.xaml.cs#SampleExperiment)]

9. コード ファイルを保存して、プロジェクトをビルドします。

## <a name="create-the-experiment-in-partner-center"></a>パートナー センターで、実験を作成します。

1. 戻り、**ボタン クリックして実験**パートナー センターでのプロジェクト ページ。
2. **[Experiments]** セクションで、**[New experiment]** ボタンをクリックします。
3. **[実験の詳細]** セクションで、**[実験名]** フィールドに「**Optimize Button Clicks**」と入力します。
4. **[ビュー イベント]** セクションで、**[ビュー イベント名]** フィールドに「**userViewedButton**」と入力します。 この名前が、前のセクションで追加したコードで記録したビュー イベント文字列と一致することに注意してください。
5. **[Goals and conversion events]** (目標とコンバージョン イベント) セクションで、次の値を入力します。
  * **[Goal name]** (目標名) フィールドに「**Increase Button Clicks**」と入力します。
  * **[コンバージョン イベント名]** フィールドに「**userClickedButton**」という名前を入力します。 この名前が、前のセクションで追加したコードで記録したコンバージョン イベント文字列と一致することに注意してください。
  * **[目標]** フィールドで、**[最大化]** を選択します。
6. **[リモート変数とバリエーション]** セクションで、バリエーションがアプリに均等に配分されるように **[均等に配布する]** チェック ボックスがオンになっていることを確認します。
7. 変数を実験に追加します。
    1. ドロップダウン コントロールをクリックし、**[buttonText]** を選択して、**[変数の追加]** をクリックします。 文字列 **Grey Button** が **[バリエーション A]** 列に自動的に表示されます (この値はプロジェクトの設定から派生します)。 **[バリエーション B]** 列で、「**Blue Button**」と入力します。
    2. もう一度ドロップダウン コントロールをクリックし、**[r]** を選択して、**[変数の追加]** をクリックします。 文字列 **128** が **[バリエーション A]** 列に自動的に表示されます。 **[バリエーション B]** 列で、「**1**」と入力します。
    3. もう一度ドロップダウン コントロールをクリックし、**[g]** を選択して、**[変数の追加]** をクリックします。 文字列 **128** が **[バリエーション A]** 列に自動的に表示されます。 **[バリエーション B]** 列で、「**1**」と入力します。  
    4. もう一度ドロップダウン コントロールをクリックし、**[b]** を選択して、**[変数の追加]** をクリックします。 文字列 **128** が **[バリエーション A]** 列に自動的に表示されます。 **[バリエーション B]** 列で、「**255**」と入力します。  
8. **[保存]** をクリックし、**[アクティブ化]** をクリックします。

> [!IMPORTANT]
> 実験の作成時に **[編集可能な実験]** チェック ボックスをオンにしていないと、実験をアクティブ化した後で実験のパラメーターを変更できなくなります。 通常は、アプリで実験のコードを記述してから実験をアクティブ化することをお勧めします。

## <a name="run-the-app-to-gather-experiment-data"></a>アプリを実行して実験データを収集する

1. 前の手順で作成した **SampleExperiment** アプリを実行します。
2. 灰色または青色のボタンが表示されることを確認します。 ボタンをクリックしてアプリを閉じます。
3. 同じコンピューターで上記の手順を複数回繰り返して、同じボタンの色がアプリに表示されることを確認します。

## <a name="review-the-results-and-complete-the-experiment"></a>結果を確認して実験の実行を完了する

前のセクションの手順を完了して少なくとも数時間経ってから、次の手順に従って試験的機能の実行結果を確認し、試験的機能の実行を完了します。

> [!NOTE]
> 実験を有効にするとすぐにすぐにパートナー センターが、実験用のデータをログにインストルメント化されている任意のアプリからデータの収集を開始します。 ただし、実験のデータがパートナー センターで表示される数時間がかかることができます。

1. パートナー センターでに戻り、**実験**アプリのページ。
2. **[アクティブな実験]** セクションで、**[Optimize Button Clicks]** (ボタンのクリックを最適化) をクリックしてこの実験のページに移動します。
3. **[Results summary]** (結果の要約) セクションと **[Results details]** (結果の詳細) セクションに表示される結果が想定した結果と一致していることを確認します。 これらのセクションの詳細については、次を参照してください。[パートナー センターで実験を管理](manage-your-experiment.md#review-the-results-of-your-experiment)します。
    > [!NOTE]
    > パートナー センターでは、24 時間の期間に各ユーザーの最初の変換イベントのみを報告します。 ユーザーが 24 時間以内にアプリで複数のコンバージョン イベントをトリガーした場合は、最初のコンバージョン イベントのみ報告されます。 これは、多数のコンバージョン イベントを使用する単一のユーザーによって、サンプルのユーザー グループの実験の実行結果が歪曲されないようにすることを目的としています。

4. これで、実験の実行を終了できるようになりました。 **[Results summary]** (結果の要約) セクションの **[Variation B]** (バリエーション B) 列で、**[切り替え]** をクリックします。 これで、アプリのすべてのユーザーが青色のボタンに切り替えられます。
5. **[OK]** をクリックして、試験的機能を終了することを確認します。
6. 前のセクションで作成した **SampleExperiment** アプリを実行します。
7. 青色のボタンが表示されることを確認します。 更新されたバリエーションの割り当てをアプリが受信するまでに、最大で 2 分かかる場合があります。

## <a name="related-topics"></a>関連トピック

* [プロジェクトを作成し、パートナー センターでのリモート変数の定義](create-a-project-and-define-remote-variables-in-the-dev-center-dashboard.md)
* [実験用のアプリをコードします。](code-your-experiment-in-your-app.md)
* [パートナー センターでの実験を定義します。](define-your-experiment-in-the-dev-center-dashboard.md)
* [パートナー センターで、実験を管理します。](manage-your-experiment.md)
* [A とアプリの実験を実行する B のテスト](run-app-experiments-with-a-b-testing.md)
