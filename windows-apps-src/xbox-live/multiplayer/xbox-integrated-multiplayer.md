---
title: Xbox Integrated Multiplayer
description: マルチプレイヤー、ネットワーキング、チャットに関する Xbox Live ゲーム用オール イン ワン ソリューションである Xbox Integrated Multiplayer (XIM) について説明します。
ms.assetid: edbb28e6-1b6c-4f12-a9c6-fa8961de99a8
ms.date: 01/25/2018
ms.topic: article
keywords: Xbox Live, Xbox, ゲーム, UWP, Windows 10, Xbox One, Xbox Integrated Multiplayer
localizationpriority: medium
ms.openlocfilehash: aa82b1042f710d81d83b98767802c7538fd53fba
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2019
ms.locfileid: "57641777"
---
# <a name="xbox-integrated-multiplayer-xim"></a>Xbox Integrated Multiplayer (XIM)

- [概要](#overview)
- [概念](#concepts)
- [機能](#features)
- [その他のモジュールへのリレーションシップ](#relationship-to-other-modules)

## <a name="overview"></a>概要

Xbox Integrated Multiplayer (XIM) は、Xbox Live サービスの機能を使用してマルチプレイヤー向けのリアルタイム ネットワーキングおよびチャット コミュニケーションをゲームに簡単に追加できる自己完結型のインターフェイスです。 XIM インターフェイスでは、プロジェクトのコンパイルにおいて、C++/CX と従来の C++ のいずれかを選択する必要がなく、どちらも使用できます。 また、この実装では、致命的ではないエラーの報告手段として例外をスローしないため、必要な場合には、例外が発生しないプロジェクトから簡単に使用できます。

開始するには、「[XIM の使用](xbox-integrated-multiplayer/using-xim.md)」をご覧ください。 使用する場合C#を参照してください[を使用して XIM C#](xbox-integrated-multiplayer/using-xim-cs.md)します。

## <a name="concepts"></a>概念

XIM がいくつかの主要な概念を中心に。

- XIM ネットワーク - 相互接続されたユーザーが、特定のマルチ プレーヤー エクスペリエンスだけでなくそのコレクションを記述する基本的な状態に参加している一連の論理表現。 参加者は一度に 1 つの XIM ネットワークにだけ参加できますが、概念的な XIM ネットワークの間をシームレスに移動できます。
- マッチメイ キング - ソーシャルに既存のリレーションシップを必要とせず、XIM ネットワークに参加するには、同様の関心やスキル レベルの追加のリモート プレーヤーを検出する省略可能なプロセスです。
- このクエリを実行するには - XIM を検出する省略可能な処理が参加者の間で既存のソーシャル関係を必要とせずにネットワークします。
- `xim_player` -ローカルまたはリモート デバイスにサインインし、XIM ネットワークに参加している個々 の人間ユーザーを表すオブジェクト。 1 人の物理ユーザーが XIM ネットワークに参加し、いったん退出してから、再び同じ XIM ネットワークに参加した場合は、2 人の異なるプレイヤー インスタンスと見なされます。
- `xim_state_change` -XIM ネットワークの一部の側面で非同期の変更に関するローカルのデバイスに通知を表す構造。
- `xim::start_processing_state_changes` `xim::finish_processing_state_changes` -メソッドのペアで、アプリでの形式で処理する結果を取得する非同期操作を実行するすべての UI フレームと呼ばれる`xim_state_change`構造体、順を完了すると、関連付けられているリソースを解放します。

非常に高いレベルでは、ゲームのアプリケーションは、サインイン済みのローカル デバイス上で新しいプレーヤーとして XIM ネットワークに移動するのにユーザーのセットを構成するのに XIM ライブラリを使用します。 アプリによる呼び出し`xim::start_processing_state_changes`と`xim::finish_processing_state_changes`UI のすべてのフレーム。 参加しているすべてのインスタンスが提供される XIM ネットワークに、ユーザーを追加するリモート デバイス上でのアプリのインスタンスに、`xim_state_change`更新プログラムをローカルとリモートを記述する`xim_player`s XIM そのネットワークに参加します。 プレイヤーが XIM ネットワークへの参加を停止すると (正常終了またはネットワーク接続の問題のため)、`xim_player` が退出したことを示す `xim_state_change` 更新がすべてのアプリ インスタンスに提供されます。

アプリは、複数の手段で参加する XIM ネットワークを決定できます。 多くの場合、アプリはローカル ユーザーをユーザーのフレンドが使用できる新しいネットワークに自動的に移動することで開始されます。ローカル ユーザーはそこで招待を送信することも、XIM ネットワークを参加可能なアクティビティとして (プレイヤー カードなどを通じて) 検出可能な状態にすることもできます。 このようにソーシャルな手段で検出されたユーザーの準備が整うと、アプリは Xbox Live の "マッチメイキング" プロセスを開始して、すべてのプレイヤーを新しい XIM ネットワークに移動できます。XIM ネットワークには、必要に応じてチーム/敵リストを埋めるための "マッチングされた" 追加リモート プレイヤーも含まれます。 次に、そのマルチプレイヤー エクスペリエンスが完了すると、アプリ インスタンスは、新しいプライベート XIM ネットワークに、またはマッチメイキングで見つかった別のランダム XIM ネットワークに、ローカル プレイヤーを (必要に応じて、マッチメイキング前の元のリモート プレイヤーも) 移動できます。 音声およびテキスト チャットは、全体を通して引き続き使用できます。 このように XIM ネットワーク間でプレイヤーを簡単に移動できることが API の中核であり、この動作には、優れたソーシャル ゲーム エクスペリエンスに対する期待が反映されています。

クライアント/サーバー モデルではなく XIM ネットワークはピア デバイスの完全に接続されているメッシュでは論理的にします。 このドキュメントのセクションのように、すべてのプレーヤーが API を使用して、他に直接送信できます。 参加しているデバイスでも XIM ネットワーク全体の状態に影響するすべてのメソッドを呼び出すことができます。

複数の参加者によって同一の XIM ネットワーク状態を同時に変更できないようにアプリ側で設定されていない場合、XIM は、last-write-wins のシンプルな競合解決を使用します。 つまり、XIM が"host"または「サーバー」の役割の概念を適用しません。 XIM はから別の参加者が、プレーヤーが XIM ネットワークを離れるときにアプリで定義された役割を移行のサポートなどの独自の概念を使用してアプリを制限しません。

## <a name="features"></a>機能

- 監視し、プレーヤーのプライバシー設定を尊重する音声とテキストのチャット コミュニケーション ゲームを提供します。

    プライバシー設定とアプリの構成で許可されるすべてのプレイヤー間では、音声とテキストのチャット通信も自動的に提供されます。 音声からテキストまたはテキストから音声の変換を有効にしているプレイヤーの場合は、XIM は、この変換を透過的に実行して受信音声を表すチャット テキスト メッセージを配信し、送信チャット テキスト メッセージに対する合成された音声を再生します。

- により、独自のゲームに固有のデータのメッセージを送信するゲーム

    XIM ネットワーク内では、アプリは、アバター移動の更新などの、独自のゲーム固有データ メッセージを送信できます。 受信されたすべてのメッセージは、意図されるソースとローカル宛先を示す `xim_state_change` としてアプリに配信されます。

- 帯域外の予約を使用して専用のチャット ソリューションとしての関数

    帯域外予約を介した XIM の使用について詳しくは、「[XIM 予約](xbox-integrated-multiplayer/xim-reservations.md)」をご覧ください。

- 例外制御不要か C + で使用できると/cli/CX または従来の C++

## <a name="relationship-to-other-modules"></a>その他のモジュールへのリレーションシップ

XIM は、基本的なマルチプレイヤーのニーズを持つゲームに対して便利なオールインワンのインターフェイスを提供するように設計されています。 この機能は、複数のモジュールの機能 (Xbox Services API (XSAPI) の `multiplayer_manager` モジュール、`xbox::services::game_chat_2` ライブラリ、`Windows::Networking::XboxLive` セキュア マルチプレイヤー ネットワークなど) を、1 つの合理化された API にカプセル化します。 これにより、最大限の柔軟性と制御を必要としないマルチプレイヤー ゲームを構築するときに関係するコード、タスク、概念の量が減ります。 ただし、要件が XIM の簡素化の想定と一致しないアプリでは、代わりにこれらのコンポーネントを直接使用できます。

XIM では、基になるコンポーネントを介してマルチプレイヤー セッション ディレクトリ (MPSD) セッション ドキュメントやネットワーク転送などを管理する必要性の排除を目的としていますが、別のプレイヤー ロスターまたは通信メッシュの一部としてこれらを同時/サイド バイ サイドに使用することも不可能ではありません。 その場合、XIM と独自のメカニズムの間でネットワーク リソースの使用を調整する責任はアプリ側が負う必要があります。 XIM では現在、外部入力のみによるユーザー リストを使用した専用のチャット ソリューションとして簡単に利用できるように、"帯域外予約" がサポートされています。

Xbox Live は、マルチプレイヤー ゲームに役立つ他の多くの機能を提供しますが、マルチプレイヤー チャットおよびネットワーク通信のセットアップへの直接的な関係はあまりないため、このモジュールには含まれていません。 アプリは player 実績、ランキング、ストレージ、およびその他 Xbox サービス API (XSAPI) を検索することをお勧めします。
