---
title: マッチの交戦
description: トーナメント エクスペリエンスでのプレイヤーの進行に伴う UX の各ステージについて説明します。
ms.date: 10/12/2017
ms.topic: article
keywords: Xbox Live, Xbox, ゲーム, UWP, Windows 10, Xbox One, アリーナ, トーナメント, UX
ms.localizationpriority: medium
ms.openlocfilehash: edc81ff7c692c4789855d341917c54acf4d24594
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2019
ms.locfileid: "57598357"
---
# <a name="match-engagement"></a>マッチの交戦

ゲーマーは、トーナメントに登録してチェックインした後、プレイできるように設定されます。 参加者は、次の 4 つのステージのいずれかに存在することになります。 各ステージには、ゲーム内でのユーザーのトーナメント エクスペリエンスをガイドする独自の条件セットが用意されています。 4 つのステージは次のとおりです。

1.  準備完了 (アリーナ UI またはゲーム内)
2.  プレイ (ゲーム内)
3.  結果 (アリーナ UI またはゲーム内)
4.  終了 (アリーナ UI またはゲーム内)

> [!NOTE]  
> "プレイ" は 4 つのステージの中で、唯一、アリーナ UI でサポートされていないステージです。 タイトルでは、少なくとも、各マッチの終了時 (プレイのステージの完了時) に参加者が結果を確認できるように、アリーナ UI にリダイレクトする必要があります。

###### <a name="diagram-the-four-stages-of-participant-progression-after-check-in"></a>ダイアグラム:チェックインした後、参加者の進行の 4 つの段階です。

![マッチの交戦フロー図](../../images/arena/arena-ux-match-flow.png)

![マッチの交戦フローのバー](../../images/arena/arena-ux-match-flow-bar.png)

## <a name="1-ready-waiting-for-match"></a>1. 待機 ("一致")

![マッチ開始待ちの図](../../images/arena/arena-ux-flow-ready.png)

### <a name="user-impact"></a>ユーザーへの影響

このステージで、ゲーマーはマッチのプレイ開始を待っていますが、対戦相手がまだ不明です。 このステージは、トーナメントが開始され、参加者がマッチ セッションの開始を待っているときにトリガーされます。 この待機時間の原因として、次のことが考えられます。

* チェックイン期間がまだ締め切られていない。
* 次のラウンドが開始していない。
* 参加者が現在のラウンドを不戦勝で勝ち進んでいる。

### <a name="when-a-bye-is-needed"></a>不戦勝が必要な場合

アリーナでは、シードのチームを分散させて不戦勝をできるだけ回避していますが、不戦勝はトーナメントのすべてのラウンドで発生する可能性があります。

トーナメントがシングルエリミネーション方式かダブルエリミネーション方式かに関係なく、プレイヤー数やチーム数が 2 の累乗 (4、8、16、32、64、128、256 など) でない限り、不戦勝が必ず発生します。 不戦勝とは、単純に、チームがトーナメントの最初のラウンドに参加する必要がなく、戦わずに 2 回戦に進出することを意味します。

### <a name="discovery"></a>情報表示

![チームの情報表示のスクリーンショット](../../images/arena/arena-ux-team-discovery.png)

準備完了ステージでは、参加者は次の場所でステータスを確認できます。

* 競技場 UI:トーナメントの詳細ページ
* ゲームの場合。トーナメントの一覧、プロモーション、一致のロビー

> [!TIP]  
> **UX の推奨事項**  
> プレイヤーがイベントの次のマッチを待っている状態であることを明確に表示します。 例:「保留中と一致」または「bye が表示されている」通知します。  
>
> このステージをサポートする場合は、トーナメントの詳細ページに戻る方法を提供します。  
>
> イベントのコンテキストを提供します。トーナメントの名前、状態、スタイル、説明、開始時刻/終了時間など。


###### <a name="ui-example-in-game-multiplayer-lobby"></a>UI の例:ゲームでマルチ プレーヤーのロビー

![トーナメント ロビーのスクリーンショット](../../images/arena/arena-ux-tournament-lobby.png)

トーナメント マッチを宣伝する場合、またはマッチの詳細を表示する場合、常にトーナメントの状態と理由を一定の位置に表示します。

これらの情報は、ゲーマーが次の判断を行ううえで非常に重要です。

* ゲームを終了して詳細情報を表示するかどうか。
* トーナメントで次に進むためには、どのような手順が必要か。

### <a name="under-the-hood"></a>内部的な処理
タイトルでこのステージをサポートする場合は、マッチの準備ができた時点で、プレイのステージに進みます。

 
## <a name="2-playing"></a>2. 再生

![マッチのプレイの図](../../images/arena/arena-ux-flow-play.png)

### <a name="user-impact"></a>ユーザーへの影響

プレイヤーの次の対戦相手が明らかになり、マルチプレイヤー セッションの作成が完了します。 このステージでは、タイトルでプレイヤーに対して通常のゲーム フローが実行されます (マッチセットアップ画面、ゲーム ロビーなど)。 ユーザーは、マッチの準備が完了すると、このステージに到達します。

### <a name="discovery"></a>情報表示

トーナメントの参加者にアラートを表示し、ゲームの外部からトーナメント マッチへの参加を可能にするには、次の 2 つの方法があります。

* **Xbox のトースト通知**: この通知が表示されるた場合、参加者は ![Nexus ボタン](../../images/xbox-nexus.png) (Nexus ボタン) を長押ししてゲームを起動し、マッチに移動することができます。

  ![マッチの準備完了トースト](../../images/arena/arena-ux-match-ready-toast.png)

* アリーナのトーナメントの詳細ページ: 参加者は **[Play]** (プレイ) を選択して、ゲームを起動し、マッチに移動します。
 
> [!TIP]  
> **UX の推奨事項:** 一致するエントリを確認します。  
> マッチ ロビーに直接移動しようとしていることを参加者に通知するか、参加者の確認を求める (またはその両方を行う) UI を表示します。

###### <a name="ui-example-match-entry-confirmation-dialog-box"></a>UI の例: マッチへの移動を確認するダイアログ ボックス

![マッチへの移動を確認するダイアログ ボックス](../../images/arena/arena-ux-confirm-match-entry.png)

参加者がゲーム以外の場所からトーナメントに移動することを選択した場合に、この UI を表示します。 ゲームの起動後、マッチ ロビーへの移動前にこれを表示します。

> [!TIP]  
> **UX の推奨事項:** キャンセルするオプションを提供します。

参加者は、トーナメントに向けた準備作業の必要性に気付くことがあります。 参加者の気が変わったときに対応できる柔軟性が必要です。 タイトルでは、次のような追加のオプションを提供できます。

* ゲームに留まる  (参加者は、メイン メニューに移動します)。
* アリーナ UI に戻る。
* 参加者が、ゲームからの離脱を選択する場合、タイトルで失効タイムアウト制限に達するまでの残り時間を参加者に表示することをお勧めします。

###### <a name="ui-example-match-entry-confirmation--leave-game-warning"></a>UI の例: マッチへの移動の確認とゲーム終了の警告

![マッチへの移動と失効タイムアウトまでの残り時間を確認するダイアログ ボックス](../../images/arena/arena-ux-confirm-match-cancel.png)

### <a name="playing-a-match"></a>マッチのプレイ

マッチの開始時刻は、セッション テンプレートで定義されます。 たとえば、`2009-06-15T13:45:30.0900000Z` のように、標準の UTC 形式で日付と時刻が設定されます。 トーナメント主催者は、開始時刻前にいつでも (または開示時刻と同時に) セッションを作成できます。 マッチ通知は開始時刻にマッチ参加者に送信されるため、タイトルが開始時刻より前にアクティブ化されることはありません。 一般に、アリーナ セッションは、タイトル自体のマルチプレイヤー セッションと同じ方法で処理できます。 ただし、いくつか違いがあります。

* ゲーム セッションのロースターは、タイトル側では変更できません。
* 接続速度に問題があるプレイヤーを特定するための、通常の審査プロセスが存在しません。
* タイトルは、判定に参加する必要があります。

### <a name="match-lobby-details"></a>マッチ ロビーの詳細情報

トーナメントのマッチ ロビーでは、それがトーナメントであり、通常のマルチプレイヤー マッチとは異なることを明確に示す詳細情報を表示する必要があります。 このような詳細情報では、たとえば、タイマー、関係するチーム、一連のラウンド番号やステージ番号などを表示します。 マッチが終了した時点で、ステージ 3 (結果待ち) に進むか、アリーナ UI にプレイヤーを戻します。

###### <a name="ui-example-match-lobby-details"></a>UI の例:一致のロビー詳細

![マッチ ロビーの詳細情報画面](../../images/arena/arena-ux-match-lobby-details.png)

**A**: これが ”トーナメント”、つまり ”アリーナ” マッチであることを明確に示します。  
**B**: トーナメントの詳細  
   1. トーナメント名 (128 文字以内)  
   2. スタイル、ゲーム モード  
   3. ラウンド番号またはステージ番号  

**C**: [Ready Up/Play] (準備/プレイ) ボタン。参加者は既にトーナメントに移動していても、マッチ セッション開始までさらに時間が必要な場合があります。 たとえば、状況によっては、マッチのためのキャラクター選択などの設定時間が必要です。 このアフォーダンスによって、準備が完了したときに、相手チームのメンバーにそれを通知できます。  
**D**: カウントダウン タイマー
  * このタイマーは、**失効タイムアウト制限**(ゲームごとに設定) に基づいて表示します。
  * このタイマーは、この時間内にチームの最小要件が充足されていない場合、ゲームが失効し、アクティブなチームが勝者となることを両方のチームに示します。  

**E**: 配信に関するリマインダー  
**F**: チーム名と参加者

 
### <a name="under-the-hood"></a>内部的な処理

#### <a name="protocol-activation"></a>プロトコルのアクティブ化

ユーザーがマッチでプレイする準備ができたら (アリーナからの "マッチの準備完了" トーストに同意するなど)、アリーナ UI が参加者を直接タイトルに移動してマッチが開始されます。 プロトコルのアクティブ化が行われるタイミングには、タイトルを起動するとき、またはタイトルが既に実行されているときの 2 つの可能性があります。 いずれの場合も、アクティブ化は、ユーザーがマルチプレイヤー ゲームへの招待を受け入れ、それに対応してタイトルがアクティブ化される場合と同様に処理されます。

* **タイトルを起動する場合**: **Activated** イベントは、タイトルの起動時に初めて発生します。 その最初のアクティブ化がアリーナのプロトコルのアクティブ化である場合、それはタイトルを起動したのが、トーナメントでプレイしようとしているユーザーであることを意味します。 したがってタイトルは、メイン メニューとログイン画面をバイパスして、できるだけ迅速にマッチにスキップする必要があります。 また参加ユーザーの Xbox ユーザー ID (XUID) がアクティブ化 URI に提供されて、ログインが既に完了しています。

* **タイトルが既に実行されている場合**: **Activation** イベントは、タイトルが既に実行されているときに、アリーナのプロトコルのアクティブ化と共に生成することもできます。 タイトルがプロトコルのアクティブ化を受信したときに、アイドル状態である場合、タイトルはトーナメント マッチに直ちに切り替える必要があります。 アクティブ化イベントは、明示的なユーザー操作 (マッチを通知するトーストへの操作、またはアリーナ UI からマッチへの切り替え) によってのみトリガーされるため、このような動作を安全に実行できます。 またゲームプレイ中にタイトルがプロトコルのアクティブ化を受け取った場合は、ユーザーに対し、最も効率的な方法でゲームを終了して (必要に応じて、その前にゲームを保存し)、トーナメント マッチに移動するオプションを表示する必要があります。

* **参加者が Xbox のトースト通知をバイパスする場合**: アリーナ対応のタイトルは、起動時にユーザーがアクティブなマッチに参加中かどうかを確認するため、アリーナへのクエリを実行することが推奨されます。 その場合、タイトルは "マッチへの移動確認" の UI を表示して、参加するマッチがあることをユーザーに示し、それに移動するかどうかをたずねる必要があります。  

  これにより、参加者は、トーストを見逃し、(マッチに移行するつもりで) ゲームだけを起動した場合でも、トーナメント マッチに適切に移行できます。 またはゲームがクラッシュした場合も、参加者はタイトルを再起動するだけで、マッチに戻ることができます。

> [!NOTE]  
> タイトルでは、プロトコルのアクティブ化 URI の XUID を確認する必要があります。 さらに、それがタイトルの現在のプレイヤーと一致しない場合、タイトルではユーザー コンテキストの切り替えも必要になります。

#### <a name="forfeit-time-out"></a>失効タイムアウト

失効時刻 (開始時刻に失効タイムアウト時間を加えた時刻) の前に、セッション内で少なくとも 1 人のプレイヤーがアクティブである必要があります (「プレイ」の図を参照してください)。 失効時刻までに参加済みのアクティブなプレイヤーがいない場合、マッチはキャンセルされ、アリーナの判定によって両方のチームが敗者となります。
 
## <a name="3-results"></a>3.結果

![マッチの結果の図](../../images/arena/arena-ux-flow-results.png)

結果ステージは、プレイヤーがマッチを完了し、判定のために結果が報告されるステージです。 この時点では、チームがトーナメントに留まるかどうかはまだ確定していません。 結果が確定するまでの間、"ゲーム終了" 画面エクスペリエンスでは、(通常のマルチプレイヤー マッチで行われているように)セッションの結果報告を引き続き表示する必要があります。

その後、ノー コンテスト (無効試合)、勝利、敗退、引き分け、ランク、不参加などのトーナメント結果が表示されます。

結果がすぐに表示される場合は、このステージをスキップすることができます。

### <a name="reporting-results"></a>結果の報告

マッチの結果は、*判定*と呼ばれる機能を使って、セッション経由でアリーナとトーナメント主催者に報告されます。 判定は、マッチ セッションを使って安全にマッチをプレイし、結果を報告するフレームワークです。

マッチ セッションが開始されると、そのセッションは判定のフレームワークで管理されます。 判定には決まったタイムラインがあり、それによって判定フレームワークが適用されます。
 
### <a name="arbitration-time-out"></a>判定タイムアウト

判定タイムアウトは、マッチの開始後、参加者がプレイして結果を報告するまでの最長時間です。 この値は、トーナメント主催者が実施するイベントでは、セッション テンプレートに設定され、UGT やフランチャイズ実行型のイベントでは、アリーナ マルチプレイヤー ゲーム モードで設定されるため、タイトルに必要な時間を自由に設定することができます。

タイトルは、開始時刻から判定時刻までの間であれば、いつでも結果を報告できます。 判定は、失効時刻から判定時刻までの間に、セッションのすべてのアクティブなメンバーの結果が送信された後で随時実行されます。 たとえば、失効時にアクティブなメンバーが 1 人だけのセッションでも、メンバーは結果を投稿でき (または投稿しなければならず)、判定が行われます。 判定は、判定時刻までに報告された結果の数に関係なく、実行済みでない限り実行されます。

ユーザーのいるセッションが既に判定済みの場合 (判定タイムアウトに達した場合や、ゲーム サーバーがセッションを判定する場合、またはユーザーの参加が遅れた場合)、タイトルはマッチを終了して判定結果をユーザーに表示する必要があります。

判定結果には、常に、すべてのチームの結果が含まれます。 個々のプレイヤーのスコアが報告されると、自分のチームの結果だけでなく、すべてのチームの完全な結果のセットが判定結果に含まれます。
判定は、最初のクライアントが Xbox Live に結果を報告するとすぐに自動的に開始され、 すべてのクライアントが結果を報告すると直ちに終了します。 参加者がセッション テンプレートで指定された判定時間を超えてプレイすることがあります。 この場合、参加者の準備が完了する前に、マッチが強制的に終了するおそれがあります。

> [!TIP]  
> **UX の推奨事項:** 一致するセッションの固定の時間枠を指定します。
>
> マッチ セッションの時間制限を事前に定義することで、判定タイムアウトの問題が発生する可能性が減少します。

参加者のプレイが終了する前にマッチが終了することを防止する場合、2 つのオプションがあります。

* 1 つは、判定タイムアウトを非常に大きな値に設定することです。
* 固定の時間枠を設定することが、タイトルのゲームプレイのスタイルに合わない場合は、次の解決方法を検討してください。
   1.   結果が報告されていないこと、および判定タイムアウトがまもなく時間切れになること (残り時間が 5 分など) を判断します。
   2.   ゲームが X 分後に終了することを参加者に警告する UI を表示します。 このオプションはすべてのトーナメントに実装でき、判定タイムアウトを非常に大きな値に設定している場合、参加者に表示されることはほとんどありません。

### <a name="returning-to-the-arena-ui-by-using-a-dedicated-a-button-press"></a>専用のボタンを使ってアリーナ UI に戻る

タイトルがゲーム内でトーナメントの結果やステージの進行状況を表示しない場合は、これらの情報を提供する UI に戻るための方法を参加者に提供することをお勧めします。 戻り先は、アリーナ UI か、サードパーティのトーナメント主催者アプリが考えられます。 このアフォーダンスは、マッチ終了後、またはプレイヤーがマッチの途中で終了を要求した場合の対応として表示することが適切です。 これは、ゲームの終了レポートの画面から実行できます。

> [!TIP]  
> **UX の推奨事項**  
> Xbox ダッシュボードに、ゲーマーがアリーナ ハブへ即座に戻るための専用のコントローラー ボタンを用意します。  
>
> ![アリーナ ハブのコントローラー ボタン](../../images/arena/arena-ux-arena-hub-button.png)

### <a name="redirect-participants-at-the-end-of-a-match"></a>参加者をマッチの最後にリダイレクトする

参加者がマッチを終了した時点で、次のステップを明確に示すことが重要です。 これには、トーナメント ラウンドやステージの結果を確認する方法を示すことが含まれます (ゲーム内で提示されない場合)。

> [!TIP]  
> **UX の推奨事項:** ポップアップのオーバーレイを使用します。
>
> この UI は、トーナメント結果が存在し、ゲーム終了エクスペリエンスが完了したときに表示されます。

### <a name="recommended-ui-data"></a>推奨される UI データ:

* トーナメント名
* 次の対戦の組み合わせ
* 次のラウンドまたはステージの詳細
* チームの順位
* 判定結果
* トーナメントの詳細へのディープ リンク
* ゲームに留まるためのオプション

### <a name="under-the-hood"></a>内部的な処理

アリーナ UI を呼び出した後、タイトルは (おそらくは同じ画面で) 引き続き実行され、別のプロトコルのアクティブ化イベントが発生するまで待機する必要があります。 これにより、プレイヤーが別のマッチをプレイする場合に、タイトルがすぐに対応できます。 プレイヤーがタイトルとアリーナ UI を切り替えて、マッチ間をスピーディに移動でき、迅速なユーザー エクスペリエンスが実現します。

###### <a name="ui-example-tournament-arbitrated-resultswinning-team"></a>UI の例:トーナメント調停結果、チームが勝利

![勝利を伝える画面](../../images/arena/arena-ux-won-game-redirect.png)

###### <a name="ui-example-end-of-tournament-resultsmatch-ended"></a>UI の例:終了-トーナメントの結果、一致が終了しました 

![敗退を伝える画面](../../images/arena/arena-ux-lost-game-redirect.png)

## <a name="4-end"></a>4。[終了]

![マッチの終了の図](../../images/arena/arena-ux-flow-end.png)

トーナメント フローの終了ステージは、トーナメント自体が終了して最終的な結果が報告されたときに発生します。

参加者には、トーナメントの終了またはプレイヤーの敗退のいずれかが通知されます。

### <a name="discovery"></a>情報表示

アリーナ UI では、次のように結果を表示し、優勝者を称えます。

* トーナメントの詳細ページ
* プレイヤーまたはクラブのアクティビティ フィードでの参加者による結果の公開
* プレイヤーのプロフィールへのトーナメント結果の投稿

タイトルでは、ゲーム内に次のようにトーナメント結果を表示できます。

* 参加者が完了した最終ラウンドのゲーム終了エクスペリエンスの後。
* トーナメント閲覧機能の **[My Tournaments]** (マイ トーナメント) の下に表示。


###### <a name="ui-example-end-of-tournament-resultstournament-ended"></a>UI の例:トーナメントの結果の最後-トーナメントの終了

![トーナメント終了画面](../../images/arena/arena-ux-tournament-completed.png)

* このステージをサポートする場合、アリーナ UI またはトーナメント主催者アプリに戻るオプションを提供します。
* イベント名を表示します。
* チームに複数のメンバーが含まれている場合は、チーム名を表示します。
* 可能であれば、イベントでのチームの順位を表示します。 順位が表示できない場合 (または場合によっては、順位に加えて)、タイトルに、プレイヤーのイベントへの参加が終了したことを明示する必要があります。
* タイトルに次の手順を示します (例: [ライブ ストリーミングを視聴]、[別のトーナメントを見つける]、[ゲームに留まる] など)。
* タイトルは、チームの関与が終了した理由を示します。
  * [Rejected] (拒否): チームがトーナメントに参加するための条件を満たしませんでした。
  * [Eliminated] (敗退): チームはトーナメント マッチで敗北しました。
  * [Evicted] (除外): チームは、アクティブなトーナメントから除外されました。
  * [Completed] (完了): チームはトーナメントの最終ラウンドを完了しました。
