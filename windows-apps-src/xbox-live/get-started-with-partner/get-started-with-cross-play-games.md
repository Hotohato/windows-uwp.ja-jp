---
title: クロスプレイ ゲームの概要
author: KevinAsgari
description: PC と Xbox One 本体の両方で実行されるクロスプレイ ゲームを開発する方法について説明します。
ms.assetid: 6c8e9d08-a3d2-4bfc-90ee-03c8fde3e66d
ms.author: kevinasg
ms.date: 04/04/2017
ms.topic: article
keywords: Xbox Live, Xbox, ゲーム, UWP, Windows 10, Xbox One, クロスプレイ, Play Anywhere
ms.localizationpriority: medium
ms.openlocfilehash: b74d214163c975126ba5131d6b9b3c8423c23280
ms.sourcegitcommit: e814a13978f33654d8e995584f4b047cb53e0aef
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/05/2018
ms.locfileid: "6035075"
---
# <a name="get-started-with-cross-play-games"></a>クロスプレイ ゲームの概要

## <a name="summary"></a>概要

Windows 10 の登場以降、ゲーム開発者は、1 つの製品を Xbox One (XDK ゲームとして) と Windows 10 (UWP ゲームとして) の両方に対応できるようにリリースすることが可能になっています。 また場合によっては、開発者はゲームでクロスプレイを有効にする必要があります。このようなゲームでは、ゲームの Xbox One バージョンと Windows 10 バージョンの間で、マルチプレイヤー、セーブ データ、実績などの Xbox Live サービスが統合されます。 クロスプレイを有効にするには、ゲームの XDK バージョンと UWP バージョンの両方で、1 つのタイトル ID と Xbox Live サービス構成を共有します。

現在、XDK+UWP ゲームを取り込んでクロスプレイ ゲームを開発するには、次の 4 つの主要な手順が必要になります。

1.  Windows デベロッパー センターで UWP 製品を作成する

2.  XDP で XDK ゲームを作成し、XBL 構成を共有するプラットフォームを選択する

3.  UWP 製品の情報を XDP の XDK 製品にバインドする

4.  XDP で Xbox Live を構成して公開する

このドキュメントでは、これら 4 つの手順について詳しく説明し、Xbox の開発者ができるだけ簡単に XDK+UWP のクロスプラットフォーム ゲームを取り込めるようにすることが目的です。

## <a name="terminology"></a>用語

### <a name="scenario-terms"></a>シナリオに関する用語

1.  クロスプレイ: 複数のプラットフォームを対象にリリースされますが、1 つの Xbox タイトル ID とサービス構成を共有するゲームです。 結果として、ゲームの両方のバージョンが同じ Xbox Live 構成 (実績、ランキング、セーブ データ、マルチプレイヤーなど) を共有することになります。

2.  Windows デベロッパー センター: UWP の開発で使用するためのアプリ ID を予約し、UWP 用の Xbox Live 構成をセットアップできるポータルです。

3.  XDP: Xbox デベロッパー ポータルです。現在は Xbox One XDK ゲームと SRA ゲームの取り込み、構成、公開を行うためのポータルですが、将来的には XDK+UWP のクロスプレイ ゲームの取り込み、構成、公開の機能が追加されます。

### <a name="identity-terms"></a>ID に関する用語

1.  タイトル ID: Xbox タイトル ID。Xbox Live で各ゲームを識別するために使用されます。 タイトル ID は 1 つの製品に対応します。ただし、1 つの製品が複数のプラットフォームに対応する場合があります。

2.  サービス構成 ID (SCID): 各 Xbox タイトル (タイトル ID によって識別されます) には、対応するサービス構成 ID (SCID) があります。 この ID により、Xbox Live はタイトルを操作するときに使用するルール/構成を一意に識別できます。

3.  パッケージ ファミリ名 (PFN): デベロッパー センターで作成された各製品に割り当てられる ID です。 UWP をこのデベロッパー センター製品の ID にバインドすると、この PFN が割り当てられます。 PFN は一意の製品 ID であり、複数のプラットフォームに対応する場合があります。 PFN は Xbox タイトル ID と 1 対 1 に対応します。

4.  MSA アプリ ID: MSA クライアント ID とも呼ばれます。デベロッパー センターで製品を作成するときに MSA によって割り当てられるもう一つのアプリ ID です。 この ID によって、Microsoft サービスはアプリを識別することができます。 MSA アプリ ID は PFN と 1 対 1 に対応します (したがって Xbox タイトル ID とも 1 対 1 に対応します)。

## <a name="scenario-overview"></a>シナリオの概要

### <a name="what-is-cross-play"></a>クロスプレイとは

注目すべき Windows 10 エクスペリエンスの 1 つであるクロスプレイとは、Xbox One と PC といった異なるデバイス間でゲームをプレイすることです。ゲームは複数のデバイス バージョンの間で 1 つの Xbox Live 構成を共有し、クロスデバイス マルチプレイヤー、実績とランキング、セーブ データなどのシナリオを実現します。

### <a name="what-are-the-pros-and-cons-of-cross-play"></a>クロスプレイの長所と短所

ゲームの XDK と UWP のバージョンで以下のことを行いたい場合、クロスプレイが適しています。

-   少なくとも 1 つのマルチプレイヤー ゲーム モードでクロスデバイス マルチプレイヤー (Xbox One 対 PC) を処理する

-   1 つのセーブ データを共有し、ユーザーが両方のデバイスで利用できるようにする

-   両方のデバイスで付加的に達成できる、実績とゲーマースコア/チャレンジ/ランキングの単一のセットを設定する

以下の場合にはクロスプレイは適していません。

-   どのようなマルチプレイヤー ゲーム モードでも、ゲームの PC プレイヤーと Xbox One プレイヤーが、複数デバイスを対象としたマルチプレイヤー ゲームに参加できないようにする

-   Xbox One と PC のセーブ データを分離しておく必要がある (セキュリティや信頼性を理由とする場合など)

-   ゲームの Xbox One バージョンと PC バージョンでゲーマースコアを分けておく必要がある (Xbox One と PC 両方のバージョンを購入したユーザーが、まとめて 1000 ゲーマースコアを受け取るのではなく、プラットフォームごとに 1000 ゲーマースコアを受け取るようにする)

一般に、クロスプレイが最も役立つのは次のような場合です。

-   ゲームの Xbox One バージョンと PC バージョンの間の連続性が特徴の無料プレイ/Xbox Play Anywhere ゲーム

-   Xbox One と PC 間のクロスデバイス マルチプレイヤーに対応したゲーム

**注**: クロスプレイは、ゲームの XDK バージョンと UWP バージョンを同時にリリースする新しいゲームでも、既にリリースされている XDK バージョンに UWP バージョンを後で追加するゲームでも利用できます。

### <a name="what-are-the-restrictions-of-cross-play"></a>クロスプレイの制限事項

Xbox One が UWP ゲームをサポートするようになるまでは、クロスプレイ ゲームには、ゲームの XDK バージョン (Xbox One 本体用) と UWP バージョン (Windows 10 PC 用) が必要です。

XDK+UWP のすべてのクロスプレイ ゲームにはいくつかの重要な制限事項があります。

1.  **XDK タイトルは XDP に取り込む必要があります**。 サービス構成および重要な公開エクスペリエンスのどちらについても、デベロッパー センターは XDK ベースのタイトルをサポートする機能を備えていません。

2.  **XDP で作成した 1 つのサービス構成を、ゲームの XDK バージョンと UWP バージョンの両方で使用できます**。 ゲームの XDK バージョンと UWP バージョンで 1 つのサービス構成を共有できる新しい機能が XDP に追加されています。 UWP バージョンはデベロッパー センターでパッケージ/カタログに公開する必要がありますが、サービス構成の公開はすべて XDP で行うことができます。

3.  **サービス構成を XDP とデベロッパー センターで分けることはできません**。 XDP とデベロッパー センターは相互に認識しないので、どちらか一方で公開された製品が他方で既に公開されている製品を上書きします。 これにより、サービス構成が復元できないほど壊れたり、非常に悪いユーザー エクスペリエンス (実績やセーブ データの消失など) が生じる可能性があります。これを避けるため、XDK+UWP のクロスプレイ ゲーム用のサービス構成は、すべて XDP で行う必要があります。

### <a name="create-your-uwp-product-in-the-windows-dev-center"></a>Windows デベロッパー センターで UWP 製品を作成する

「[新規または既存の UWP プロジェクトに Xbox Live を追加する](get-started-with-visual-studio-and-uwp.md)」の説明に従って、Windows デベロッパー センターで UWP 製品を作成します。

## <a name="setup-your-xdk-product-in-xdp"></a>XDP で XDK 製品をセットアップする

UWP 製品を作成したので、XDP で XDK 製品をセットアップする準備が整いました。 XDK タイトルがまだない場合は、作成する必要があります。

### <a name="create-your-xdp-product"></a>XDP 製品を作成する

XDP で、公開元の新しい製品を作成して、アカウント マネージャーと協力 ([https://xdp.xboxlive.com/](https://xdp.xboxlive.com/User/Publisher))。

XDP で製品を作成するときは、UI の左側のセクションを一番下までスクロールしてプラットフォームを選択します。 Xbox Live クロスプレイを統合してゲームをリリースすることが**予定されている**プラットフォームをすべてオンにしてください。

プラットフォームを選択した後、ゲーム (ほとんどの場合 XDK タイトル) のリソース アクセスの種類と、その製品に対して採用するリリース形態を指定します。


![](../images/ingesting_crossplay_games_xdp/image4.png)
### <a name="update-your-xdp-product-platforms"></a>XDP 製品のプラットフォームを更新する

既に XDP に XDK 製品が取り込まれている場合は、PC プラットフォームをサポートするように更新する必要があります。 そのためには、製品を選択して、[Product Setup] (製品のセットアップ) &gt; [プラットフォームの種類] の順に移動します。

![](../images/ingesting_crossplay_games_xdp/image10.png)

このページで、サポートするプラットフォームを選択します (オプションは Xbox One、Threshold PC、Windows Mobile)。 選択に問題がなければ、[Submit Platforms] (プラットフォームの提出) ボタンをクリックします。

この変更はすぐに有効になります (有効にするためにサービス構成、カタログ、またはバイナリを公開する必要はありません)。 この構成はサンドボックス全体に適用されることに注意してください。ゲームのサンドボックスごとにプラットフォームの種類を変えることはできません。

### <a name="enter-your-msa-app-id"></a>MSA アプリ ID を入力する

XDP 製品を作成したら、製品の [Product Setup] (製品のセットアップ) ページに移動して、前の手順で作成した MSA アプリ ID を入力します。 [Product Setup] (製品のセットアップ) ページに移動するには、XDP で、製品のタスク バーの左端にある "状態ボックス" をクリックします (下図を参照)。

![](../images/ingesting_crossplay_games_xdp/image11.png)

[Product Setup] (製品のセットアップ) ページに移動したら、[Application ID Setup] (アプリケーション ID のセットアップ) セクションを選択します。 このセクションでは、取得した MSA アプリ ID を [アプリケーション ID] フィールドに入力できます (下図を参照)。

![](../images/ingesting_crossplay_games_xdp/image12.png)

******名前や公開元の属性を入力する必要はありません**。**また、このページの [アプリケーション ID の取得] リンクは使用しないでください**。このフィールドに入力する必要のある MSA アプリ ID は既に取得してあるので、アプリケーション用に新しい ID を生成する必要はありません。

MSA アプリ ID を [アプリケーション ID] フィールドに入力したら、[Submit Application ID Setup] (アプリケーション ID 設定の提出) ボタンをクリックします。 これにより、Xbox Live セキュリティで MSA アプリ ID の情報が保存されます。UWP から XToken の取得を要求すると必ず、含まれているタイトル クレームがこの XDP 製品にマップされます (Windows デベロッパー センターで作成した AppX マニフェスト ID を UWP が適切に使用している場合に限ります)。

### <a name="enter-the-dev-center-pfn-into-xdp"></a>デベロッパー センターの PFN を XDP に入力する

UWP ゲームを認証し、XDP で作成および公開したサービス構成で Xbox Live を使用するには、以上の手順で十分ですが、特定の Xbox Live 機能 (マルチプレイヤーの招待など) が正常に動作するには、これらの機能で UWP ゲームの PFN を認識する必要があります。

そのためには、[Product Setup] (製品のセットアップ) &gt; [Dev Center Binding] (デベロッパー センターのバインディング) に移動します。

![](../images/ingesting_crossplay_games_xdp/image13.png)

このページで、UWP アプリの PFN (セクション 4.1.1 で取得したもの) を入力して、[保存] ボタンをクリックします。

この構成はすぐには有効になりません。 後でサービス構成をサンドボックスに公開することによって有効になります。 この情報はサンドボックス化されるので、使用できるサンドボックスごとに公開する必要があります。

### <a name="flag-your-app-for-xbox-cert-in-the-dev-center"></a>デベロッパー センターで Xbox 認定用のフラグをアプリに設定する

現時点では、Xbox の認定を受けるために、ゲームを Xbox Live 対応として認識されるようにするには、手動で対応する必要があります。 担当のリリース マネージャーと協力し、SmartCert で検出されるようにデベロッパー センターでアプリに Xbox Live 対応のフラグを設定してください。

### <a name="update-your-uwp-game-in-the-xbox-app"></a>Xbox アプリで UWP ゲームを更新する

通常、Xbox アプリでは、Xbox アプリ内で Xbox Live エクスペリエンスを提供するために、すべての UWP ゲームに対して自動生成された 1 つのタイトル ID を使用します。 UWP ゲームが XDP で生成されたタイトル ID を Xbox アプリで適切に使用できるようにするには、**UWP ゲームをリリース用に提出する前に**、Windows デベロッパー センター内でデータを更新する必要があります。

そのためには、担当の DAM に連絡し、タイトル名に対して Xbox アプリのタイトル ID を更新する必要があることを伝えてください。  XDP で作成されたタイトル ID (XDP の [Product Setup] (製品のセットアップ) &gt; [Product Details] (製品の詳細) に表示されます) と、UWP の Windows 10 用 URL (デベロッパー センターの [アプリ管理] &gt; [アプリ ID] に表示されます) も伝えてください。

## <a name="configure-xbox-live-in-xdp"></a>XDP で Xbox Live を構成する

### <a name="service-configuration"></a>サービス構成

XDP とデベロッパー センターの製品を適切に構成してバインドした後は、XDK タイトルの場合と同じように、XDP 内で Xbox Live の共有構成を自由に設定できます。

**重要** – バインドされた XDK+UWP ゲームについては、どのような場合でも、デベロッパー センターを介して Xbox Live サービス構成を有効化、構成、公開する必要があります。 このガイダンスに従わない場合、ゲームの Xbox Live 構成が破損して修復できなくなる可能性があります。

### <a name="catalog-configuration"></a>カタログの構成

XDK+UWP ゲームの場合、カタログの構成を、XDP で XDK 用に、およびデベロッパー センターで UWP 用に、2 回セットアップする必要があります。

XDP での構成のセットアップは、通常の XDK 製品の場合とまったく同じです。 デベロッパー センターでの構成のセットアップについては、[こちら](https://dev.windows.com/en-us/publish)で詳細な手順をご覧ください。

<table>
  <tr>
    <td>
      UWP 専用ゲームの場合は、セットアップする必要のあるカタログ構成は限られています。 具体的には、UWP 専用ゲームの場合はマーケティング情報を入力する必要があります。サービス構成は、XDP で構成される Xbox Live ゲームに対して、入力されたマーケティング情報の文字列を使用します。 また、ゲームのカタログ情報が公開された場合にゲームが Xbox One カタログに表示されないように、利用できるかどうかの情報を "利用不可" に設定する必要もあります。
    </td>
  </tr>
</table>

### <a name="binary-configuration"></a>バイナリの構成

XDK+UWP ゲームの場合、バイナリの構成を、XDP で XDK 用に、およびデベロッパー センターで UWP 用に、2 回セットアップする必要があります。

XDP での構成のセットアップは、通常の XDK 製品の場合とまったく同じです。 デベロッパー センターでの構成のセットアップについては、[こちら](https://dev.windows.com/en-us/publish)で詳細な手順をご覧ください。

<table>
  <tr>
    <td>
      UWP 専用ゲームの場合、XDP でバイナリを構成する必要はありません。 この手順全体を省略できます。
    </td>
  </tr>
</table>

## <a name="publish-in-xdp"></a>XDP で公開する

一般に、XDK+UWP ゲームを公開するプロセスは、XDP での XDK タイトルの公開とデベロッパー センターでの UWP の公開を個別に行う場合と同じです。 そのため、以下では、クロスプレイ ゲームに固有のプロセスまたは考慮事項を中心に説明します。

### <a name="dev-sandbox-publishing"></a>開発サンドボックスの公開

### <a name="no-dev-sandbox-catalog-equivalent-for-microsoft-store"></a>Microsoft Store の場合は開発サンドボックス カタログに相当するものがない

XDP ではカタログとバイナリを Xbox One カタログの開発サンドボックス バージョンに公開できますが、Microsoft Store のカタログにはサンドボックスのサポートはありません。 そのため、開発サンドボックスで UWP をテストするには、その UWP をサイドロードして直接プレイする必要があります。 これによる Xbox Live のテストへの影響はありませんが、標準のテスト プロセスで変更が必要になる場合があります。

<table>
  <tr>
    <td>
      UWP 専用ゲームの場合、Xbox One カタログは存在しませんが、XDK タイトルのカタログ情報を公開して、サービス構成の公開のブロックを解除する必要があります。
    </td>
  </tr>
</table>

### <a name="cert-sandbox-publishing"></a>CERT サンドボックスの公開

### <a name="coordination-between-xdp-publishing-and-dev-center-publishing"></a>XDP での公開とデベロッパー センターでの公開の間の調整

XDP では、CERT から RETAIL への移行は、2 つの独立した、明示的なアクションです。 一方、デベロッパー センターでは、申請プロセスに従って、ゲームは認定を介して製品版に自動的に移行されます。 そのため、正しい順序で操作する必要があります。

認定に提出する準備ができたら、以下の手順を順番に実行してください。

1.  XDP で XDK 製品を CERT に公開します (カタログ、バイナリ、サービス構成を含みます)

2.  デベロッパー センターで UWP 製品の申請を開始します

    1.  **[公開日] フィールドでは、必ず [手動でこのアプリを公開] または [次の予定日に公開する \[日付\]] を選択してください。** そのようにしないと、操作を行っていないにもかかわらず、UWP ゲームが自動的に製品版としてリリースされる可能性があります。

<table>
  <tr>
    <td>
      UWP 専用ゲームの場合は、公開する XDK タイトル バイナリはありませんが、デベロッパー センターでの申請を始める前に、XDP でカタログとサービス構成を CERT に公開する必要があります。
    </td>
  </tr>
</table>

### <a name="retail-sandbox-publishing"></a>RETAIL サンドボックスの公開

### <a name="coordination-between-xdp-publishing-and-dev-center-publishing"></a>XDP での公開とデベロッパー センターでの公開の間の調整

XDK タイトルの認定が完了し、UWP の認定が終わって公開できる状態になったら、アプリを RETAIL に公開できます。 この場合も、XDK タイトルと UWP の足並みが揃うように、特定の順序でこのプロセスを行うことが重要です。

1.  準備ができたら、XDP で XDK 製品を RETAIL に公開します (カタログ、バイナリ、サービス構成を含みます)

2.  デベロッパー センターの製品の認定ページで、前に [手動でこのアプリを公開] を選択した場合は [今すぐ公開] を選択し、[次の予定日に公開する [日付]] を選択した場合は公開される日まで待ちます。

以上の手順が完了すると、共有サービス構成が RETAIL の状態になり、XDK タイトルおよび UWP ゲームが全世界に向けて公開されます。 いよいよ完成です。

<table>
  <tr>
    <td>
      UWP 専用ゲームの場合は、デベロッパー センターでの公開が完了する前に、XDP でカタログとサービス構成を RETAIL に公開する必要があります。そうしないと、リリースされた UWP が Xbox Live にアクセスできなくなります。
    </td>
  </tr>
</table>
