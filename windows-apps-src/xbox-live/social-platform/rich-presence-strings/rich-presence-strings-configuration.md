---
title: リッチ プレゼンスの構成
author: KevinAsgari
description: Xbox Live のリッチ プレゼンス文字列を構成する方法について説明します。
ms.assetid: 7b08d46d-d3aa-42eb-93f2-ecd9338fccea
ms.author: kevinasg
ms.date: 04/04/2017
ms.topic: article
ms.prod: windows
ms.technology: uwp
keywords: xbox live, xbox, ゲーム, uwp, windows 10, xbox one, リッチ プレゼンス
ms.localizationpriority: medium
ms.openlocfilehash: 7accd2585b7d1822b99abf03e74a660cbf983cf9
ms.sourcegitcommit: 1938851dc132c60348f9722daf994b86f2ead09e
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/03/2018
ms.locfileid: "4262186"
---
# <a name="rich-presence-configuration"></a>リッチ プレゼンスの構成

Xbox デベロッパー ポータル (XDP: Xbox Developer Portal) で、リッチ プレゼンス文字列の構成サービスが提供される予定です。 XDP で提供が開始されるまでは、手動構成を使用する必要があります。 手動構成では、担当のデベロッパー アカウント マネージャーから提供されたスプレッドシート テンプレートで文字列を定義し、その定義を担当のデベロッパー アカウント マネージャーに送信して、環境への取り込みを依頼します。

-   **文字列**
-   **列挙**
-   **取り込み**
-   **サンプル ゲーム**
-   **リッチ プレゼンスの統計情報の構成**
-   **列挙の構成例**
-   **文字列の構成例**


## <a name="strings"></a>文字列

リッチ プレゼンス文字列用に、文字列セットを定義する必要があります。 各文字列セットには、識別子として使用されるフレンドリ名を指定する必要があります。 作成される各文字列セットには、タイトルがリリースされるロケール用に適切にローカライズされた文字列のグループが含まれている必要があります。 ローカライズされた文字列に加え、カルチャーに依存しない文字列も提供する必要があります。 この文字列は、指定されていないロケールに対する要求が行われた場合に使用されます。

各文字列セットでは、文字列をパラメーター化してゲーム内データを利用し、文字列の質を向上させることもできます。 文字列セットには、結果として生成される文字列が文字の制限を超えない限り、必要なだけのパラメーターを含めることができます。 詳細については、「[リッチ プレゼンス文字列: ポリシーと制限](rich-presence-strings-policies-and-limitations.md)」を参照してください。


## <a name="enumerations"></a>列挙

下記の列挙は、データ プラットフォームの Events 経由で定義されます。


## <a name="statistics"></a>統計情報

リッチ プレゼンス文字列で数値の統計情報値を使用できます。 たとえば、シューティング ゲームにおいて、リッチ プレゼンス文字列で、プレイヤーがこれまでに倒した数を表示する場合があります。 この場合、パラメーターが "Kill Count" (倒した数) 統計情報によって置き換えられるように構成するだけで済みます。 "Kill Count" (倒した数) 統計情報は、データ プラットフォームから共通スキーマ イベント システムを介して作成されたものです。この統計情報は、統計情報の構成で定義されている必要があります。 そして、文字列が他のユーザーから読み取られるときに、サービスは "Kill Count" (倒した数) 統計情報の最新の値にアクセスして値を取得し、文字列が常に最新の状態になるようにします。


## <a name="state"></a>状態

リッチ プレゼンス文字列で実際の状態の値を表す統計情報を使用するように選択することもできます。 たとえば、レーシング ゲームにおいて、リッチ プレゼンス文字列を使用して、現在プレイヤーが運転している車やプレイヤーがレースをしているマップ/トラックを表示することができます。 状態情報の構成には 2 つの手順があります。

1.  状態情報用に、ゲーム内文字列の列挙を定義します。 たとえば、ゲームで 5 つのマップがあり、それらのマップをリッチ プレゼンス文字列に含める場合、5 つのマップをローカライズされた文字列としても列挙する必要があります。
2.  列挙を統計情報にリンクします。 この場合も、サービスが、統計情報の値をルックアップすることで、データ プラットフォームから最新の値を取得します。 次に、統計情報がどの列挙値に変換されるかを判断します。


## <a name="ingestion"></a>取り込み

スプレッドシートの入力が完了したら、担当のデベロッパー アカウント マネージャーに送信して取り込みを依頼します。 リッチ プレゼンス チームが構成をレビューし、正しく構成されていることを確認して、サービスに取り込みます。


## <a name="example-game"></a>サンプル ゲーム

この例の残りの部分では、最新のバケツ キック ゲームに取り組んでいるとします。 ゲームでは、木のバケツ、銀のバケツ、金のバケツなど、さまざまな種類のバケツがあります。 キックされたバケツの種類ごとの統計情報を作成することにします。 ゲームでは、山、砂漠、ビーチなど、バケツをキックするさまざまな場所もあります。 バケツはキックされると粉々になるため、常にさらなるバケツを探す必要があります。 一部のバケツでは、キックを成功させるために特別な道具 (キックに耐えられるだけの強いブーツ) が必要です。 ゲームにはマルチプレイヤー モードも含まれているため、必要な数のプレイヤーが同時にバケツをキックしようとしている場合は、このようなブーツは必要ありません。

このゲームにおけるリッチ プレゼンス文字列の構成がどのようになるかを見てみましょう。


## <a name="configuring-statistics-for-rich-presence"></a>リッチ プレゼンスの統計情報の構成

データ プラットフォームによって生成される統計情報をリッチ プレゼンス文字列で使用するには、統計情報の名前をサービスが認識している必要があります。 スプレッドシート テンプレートに設けられた、文字列で使用する統計情報を指定するためのセクションにこの情報を含める必要があります。


## <a name="enumeration-configuration-example"></a>列挙の構成例

いくつかの列挙の定義の例を示します。 まず、ゲーム内のマップの列挙を作成します。 ゲームには 3 つのマップがあり、マップを容易に参照できるようにフレンドリ名を付けます。 次に、ロケールごとに、そのマップ名のローカライズされた文字列を作成します。 カルチャーに依存しないローカリゼーションに加えて、全般的な既定のローカライズもあることに注目してください。

次に、ゲームにおける武器について見ていきます。 ゲームには 3 つの武器があり、フレンドリ名とローカライズされた文字列を持っています。 すべての列挙でこのようにします。

列挙値 | 関連する統計情報 | フレンドリ名 | ロケール | String
----------- | ----------------- | ------------- | ------ | ----
Map | CurrentMap | Map_Mountains | 既定 | Mountains
 |  |  |  | en | Mountains
 |  |  |  | en-US | Mountains
 |  |  |  | en-GB | Mountains
 |  |  |  |  de | Gebirge
 | |  |  | など |
 | |  | Map_Desert | 既定 | Desert
 |  ||  |  en | Desert
 |  ||  |  en-US | Desert
 |  ||  |   en-GB | Desert
 |  ||  |  de | Wuste
 |  ||  |  など |
| |  |  Map_Beach | 既定 | Beach
 ||    |  | en | Beach
 ||    |  | en-US | Beach
 ||    |  | en-GB | Beach
 ||    |  | de | Strand
 | |   |  | など |
Boot | CurrentWeapon | Boot_Light | 既定 | Light
 |  ||  |  en | Light
 |  ||  |   en-US | Light
 |  ||  |   en-GB | Light
 |  ||  |   de | Leicht
 |  ||  |   など  |
 |  | |  Boot_Medium | 既定 | Medium
 |  |  |  | en | Medium
 |  |  |  | en-US | Medium
 |  |  |  | en-GB | Medium
 |  |  |  | de | Mittel
 |  |  |  | など |
 |  | |  Boot_Strong | 既定 | Strong
 |  |  |  | en | Strong
 |  |  |  | en-US | Strong
 |  |  |  | en-GB | Strong
 |  |  |  | de | Stark
 |  ||  | など

## <a name="string-configuration-example"></a>文字列の構成例

列挙と統計情報が定義されたので、文字列を作成できます。

以下のサンプルの表で、最初の列は、文字列セットを区別して参照できるようにするためのフレンドリ名です。 この例では、1 つ目の文字列セットに文字列 "playingMap" を使用し、2 つ目の文字列セットに "totalKicked"、そして 3 つ目に "multiplayer" を使用することにしました。

次の 2 つの列はペアになっています。 これらは、リッチ プレゼンス文字列のロケールと文字列のペアです。 1 つ目の例では、英語の文字列 "Playing on {0}" を使用します。 {0} トークンは値に置き換えられます。 次に、他のロケール用に文字列をローカライズします。 列挙の場合とまったく同じように、ロケールと文字列のペアが定義されていないロケールをユーザーが使用している場合に使用される、既定値とカルチャーに依存しない文字列が用意されている必要があります。 列挙で使用されるロケールは、文字列のロケールと一致している必要があります。

最後の列は、リッチ プレゼンス文字列の空白に入力するために使用されるパラメーターを示しています。 プレゼンス サービスで統計サービスのパラメーター値をルックアップする場合は、Stat Name を使用してここに示されているパラメーターを参照する必要があります。 文字列で Stats を使用することで、文字列を設定することができ、文字列について心配する必要がなくなります。 文字列にマップ名が含まれていて、CurrentMap 統計を使用して空白に入力する場合は、プレイヤーがゲーム内でマップを切り替えると、サービスによって文字列が適切に更新されます。 リッチ プレゼンス文字列で統計情報を使用しない場合、パラメーターは指定できません。

以下の例では、1 つ目の文字列では統計情報によって生成される現在のマップを使用し、2 つ目の文字列では BucketsKicked 統計情報を使用します。 3 つ目の例にはパラメーターが含まれていない点に注目してください。 文字列は独自に定義されています。 統計情報は参照しません。

フレンドリ名 | ロケール | String | Parameters
--- | --- | --- | ---
playingMap | 既定値 | Playing on map:{0} | CurrentMap
 |  | en | Playing on map:{0} |
 |  | en-US | Playing on map:{0} |
 |  | en-GB | Playing on map:{0} |
 |  | de | Spielt auf Karte: {0} |
 |  | など | |
totalKicked | 既定値 | Kicked {0} Buckets! | BucketsKicked
 |  | en | Kicked {0} Buckets! |
 |  | en-US | Kicked {0} Buckets! |
 |  | en-GB | Kicked {0} Buckets! |
 |  | de | {0} Eimer getreten! |
 |  | など | |
multiplayer | 既定 | Playing multiplayer |
 |  | en | Playing multiplayer |
 |  | en-US | Playing multiplayer |
 |  | en-GB | Playing multiplayer |
 |  | de | Spielt Mehrspieler |
 |  | など | 

作成できる文字列の数に制限はありませんが、タイトルには少なくとも 1 つの文字列が必要です。

"BucketsKicked" は、文字列で置き換えることができる単なる数値です。 "CurrentMap" は、文字列を列挙から取得する統計情報の例です。 タイトルでリッチ プレゼンスをこれらのいずれかの文字列に設定した場合、構成を使用して必要なパラメーターが確認されます。
