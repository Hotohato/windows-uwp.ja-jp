---
description: XAML で使われる空白処理規則について説明します。
title: XAML と空白
ms.assetid: 025F4A8E-9479-4668-8AFD-E20E7262DC24
ms.date: 02/08/2017
ms.topic: article
keywords: windows 10, uwp
ms.localizationpriority: medium
ms.openlocfilehash: 521e794680df6449ebc49745319c4aeec74405d1
ms.sourcegitcommit: b034650b684a767274d5d88746faeea373c8e34f
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/06/2019
ms.locfileid: "57589957"
---
# <a name="xaml-and-whitespace"></a>XAML と空白


XAML で使われる空白処理規則について説明します。

## <a name="whitespace-processing"></a>空白処理

XML と同じように、XAML での空白文字には、スペース、改行、タブがあります。これらは、それぞれ Unicode 値 0020、000A、0009 に対応します。 既定では、XAML プロセッサが XAML ファイル内の要素間にある内部テキストを検出すると、この空白の正規化が行われます。

-   東アジアの文字間の改行文字は削除されます。
-   すべての空白文字 (スペース、改行、タブ) はスペースに変換されます。
-   連続した複数のスペースはすべて削除され、1 つのスペースに置換されます。
-   開始タグの直後にあるスペースは削除されます。
-   終了タグの直前にあるスペースは削除されます。
-   *東アジアの文字*は、Unicode 文字範囲 U+20000 から U+2FFFD と U+30000 から U+3FFFD のセットとして定義されます。 このサブセットは *CJK 漢字*とも呼ばれることもあります。 詳しくは、「 http://www.unicode.org 」をご覧ください。

"既定" とは、**xml:space** 属性の既定値によって示される状態に相当します。

### <a name="whitespace-in-inner-text-and-string-primitives"></a>内部テキスト内の空白と文字列のプリミティブ

上で説明した正規化規則は、XAML 要素内の内部テキストに適用されます。 正規化の後、XAML プロセッサが次のように内部テキストを適切な型に変換します。

-   プロパティの型がコレクションではないが、直接的には **Object** 型ではない場合、XAML プロセッサは型コンバーターを使って型の変換を試みます。 ここで変換が失敗すると、XAML 解析エラーになります。
-   プロパティの型がコレクションで、内部テキストが連続的である (介在する要素タグがない) 場合、内部テキストは単一の **String** として解析されます。 コレクションの型で **String** が許容されていない場合も、XAML 解析エラーになります。
-   プロパティの型が **Object** である場合、内部テキストは単一の **String** として解析されます。 介在する要素タグが存在する場合、XAML 解析エラーになります。これは、**Object** 型が単一のオブジェクト (**String** など) を前提としているためです。
-   プロパティの型がコレクションであり、内部テキストが連続していない場合、最初の部分文字列が **String** に変換され、コレクション項目として追加されます。介在する要素は、コレクション項目として追加されます。最後に終了の部分文字列 (ある場合) が 3 番目の **String** 項目としてコレクションに追加されます。

### <a name="whitespace-and-text-content-models"></a>空白とテキスト コンテンツのモデル

空白の保持は、実際には、考えられるすべてのコンテンツ モデルのサブセットに関してのみ関係するものです。 このサブセットは、特定の形式で単一の **String** 型を取ることができるコンテンツ モデルで構成されます。専用の **String** コレクション、**String** と一覧に記載されている他の型の混合、コレクション、または辞書で構成されます。

文字列を使うことができるコンテンツ モデルの場合でも、これらのコンテンツ モデル内での既定の動作では、残される空白は重要なものとしては扱われません。

### <a name="preserving-whitespace"></a>空白の保持

最終的な表示に関して、ソース XAML 内の空白を保持するためのいくつかの手法は XAML プロセッサによる空白の正規化の影響を受けません。

`xml:space="preserve"` :空白を保持する必要がある要素のレベルで、この属性を指定します。 これを指定すると、見た目に直感的な入れ子としてマークアップ要素を配置するためにコード エディターまたはデザイン サーフェイスによって追加される場合があるスペースも含め、すべての空白が保持されることに注意してください。 これらのスペースのレンダリングは、包含要素のコンテンツ モデルの問題でもあります。 ルート レベルで `xml:space="preserve"` を指定することはお勧めしません。大半のオブジェクト モデルは、いずれにしても空白を重要なものと見なしていないためです。 文字列内で空白をレンダリングする要素、または空白が重要となるコレクションである要素のレベルに限定してこの属性を設定することが、より適切な方法です。

エンティティと改行なしスペース:XAML は、テキスト オブジェクト モデル内の Unicode エンティティを配置することをサポートします。 (UTF-8 エンコードでの) 改行なしスペースなど、専用のエンティティを使うことができます。 また、改行なしスペース文字をサポートするリッチ テキスト コントロールも使うことができます。 インデントなどのレイアウト特性をシミュレートするのにエンティティを使っている場合は注意が必要です。その理由は、エンティティの実行時出力は、パネルや余白の適切な使用など、一般的なレイアウト機能よりも、数が多いほうの要因によって変わるためです。

