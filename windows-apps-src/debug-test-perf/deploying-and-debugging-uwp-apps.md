---
author: mcleblanc
ms.assetid: 9322B3A3-8F06-4329-AFCB-BE0C260C332C
description: "この記事では、さまざまな展開およびデバッグのターゲットを指定する手順について説明します。"
title: "ユニバーサル Windows プラットフォーム (UWP) アプリの展開とデバッグ"
ms.sourcegitcommit: 6530fa257ea3735453a97eb5d916524e750e62fc
ms.openlocfilehash: eb639e78bf144572dfbfd2d65514bb4eff7c7be1

---

# ユニバーサル Windows プラットフォーム (UWP) アプリの展開とデバッグ

\[Windows 10 の UWP アプリ向けに更新。 Windows 8.x の記事については、[アーカイブ](http://go.microsoft.com/fwlink/p/?linkid=619132)をご覧ください\]

この記事では、さまざまな展開およびデバッグのターゲットを指定する手順について説明します。

Microsoft Visual Studio では、さまざまな Windows 10 デバイスにユニバーサル Windows プラットフォーム (UWP) アプリを展開してデバッグできます。 Visual Studio は、ターゲット デバイスにアプリケーションを展開して登録するプロセスを処理します。

## 展開ターゲットの選択

ターゲットを選択するには、**[デバッグの開始]** ボタンの横にあるデバッグ ターゲットのドロップダウンに移動し、アプリケーションの展開先のターゲットを選択します。 ターゲットを選択した後で、そのターゲットに展開してデバッグする場合は **[デバッグの開始 (F5)]** を選択し、単にそのターゲットに展開する場合は **Ctrl + F5** キーを押します。

![](images/debug-device-target-list.png)

-   **[ローカル コンピューター]** は、現在の開発コンピューターにアプリケーションを展開します。 このオプションは、アプリケーションの **[ターゲット プラットフォームの最小バージョン]** が開発コンピューターのオペレーティング システム以下である場合にのみ使用できます。
-   **[シミュレーター]** は、現在の開発コンピューター上のシミュレートされた環境にアプリケーションを展開します。 このオプションは、アプリケーションの **[ターゲット プラットフォームの最小バージョン]** が開発コンピューターのオペレーティング システム以下である場合にのみ使用できます。
-   **[デバイス]** は、USB 接続のデバイスにアプリケーションを展開します。 デバイスが開発者によりロック解除され、画面がロック解除されている必要があります。
-   **[エミュレーター]** ターゲットが起動し、名前で指定された構成のエミュレーターにアプリケーションが展開されます。 エミュレーターは、Windows 8.1 以降を実行している Hyper-V 対応コンピューターでのみ使用できます。
-   **[リモート コンピューター]** では、アプリケーションを展開するリモート ターゲットを指定できます。 リモート コンピューターへの展開について詳しくは、「[リモート デバイスの指定](#specifying-a-remote-device)」をご覧ください。

## リモート デバイスの指定

### C# および Microsoft Visual Basic

C# または Microsoft Visual Basic のアプリのリモート コンピューターを指定するには、デバッグ ターゲットのドロップダウンで **[リモート コンピューター]** を選択します。 **[リモート接続]** ダイアログが表示され、IP アドレスを指定するか、または検出されたデバイスを選択できます。 既定では、**[ユニバーサル]** 認証モードが選択されます。 使用する認証モードを決定するには、「[認証モード](#authentication-modes)」をご覧ください。

![](images/debug-remote-connections.png)

このダイアログに戻るには、プロジェクト プロパティを開き、**[デバッグ]** タブに移動します。 そこから、**[リモート コンピューター:]** の横にある **[検索…]**

![](images/debug-remote-machine-config.png)

アプリケーションをリモート PC に展開するには、Visual Studio リモート ツールをターゲット PC にダウンロードしてインストールする必要もあります。 詳しい手順については、「[リモート PC の手順](#remote-pc-instructions)」をご覧ください。

### C++ および JavaScript

C++ または JavaScript UWP アプリのリモート コンピューター ターゲットを指定するには、**[ソリューション エクスプローラー]** でプロジェクトを右クリックしてプロジェクト プロパティに移動し、**[プロパティ]** をクリックします。 **[デバッグ]** 設定に移動し、**[起動するデバッガー]** を **[リモート コンピューター]** に変更します。 次に、**[コンピューター名]** を入力 (または **[検索…]** をクリックして検出) し、**[認証の種類]** プロパティを設定します。

![](images/debug-property-pages.png)
コンピューターを指定した後で、デバッグ ターゲットのドロップダウンで **[リモート コンピューター]** を選択し、その指定コンピューターに戻ることができます。 一度に選ぶことができるリモート コンピューターは 1 つだけです。

### リモート PC の手順

リモート PC に展開するには、ターゲット PC に Visual Studio リモート ツールがインストールされている必要があります。 また、リモート PC がアプリの **[ターゲット プラットフォームの最小バージョン]** プロパティ以上の Windows バージョンを実行している必要もあります。 リモート ツールをインストールしたら、ターゲット PC でリモート デバッガーを起動する必要があります。 これを行うには、**[スタート]** メニューで **[リモート デバッガー]** を探して起動し、プロンプトが表示されたらデバッガーがファイアウォール設定を構成できるようにします。 既定では、デバッガーは Windows 認証を使用して起動します。 両方の PC でログイン ユーザーが同じでない場合、これにはユーザー資格情報が必要になります。 **[認証なし]** に変更するには、**[リモート デバッガー]** で **[ツール]** -&gt;**[オプション]** の順にクリックし、**[認証なし]** に設定します。 リモート デバッガーを設定したら、開発コンピューターから展開できます。

詳しくは、[Remote Tools for Visual Studio]( http://go.microsoft.com/fwlink/?LinkId=717039) ダウンロード ページをご覧ください。

## 認証モード

リモート コンピューターへの展開用に 3 つの認証モードがあります。

- **[ユニバーサル (暗号化されていないプロトコル)]**: Windows PC (デスクトップまたはラップトップ) ではないリモート デバイスに展開するときは、必ずこの認証モードを使います。 現時点では、これは IoT デバイスのみです。 ユニバーサル (暗号化されていないプロトコル) は、信頼されたネットワークで使う必要があります。 デバッグ接続は、開発マシンとリモート マシンとの間で渡されるデータを傍受して変更できる悪意のあるユーザーに対して脆弱です。
- **[Windows]**: この認証モードは、リモート PC への展開 (デスクトップまたはラップトップ) に使用することのみを意図しています。 ターゲット コンピューターのログイン ユーザーの資格情報にアクセスできる場合は、この認証モードを使用します。 これは、リモート展開用の最も安全なチャネルです。
- **[なし]**: この認証モードは、リモート PC への展開 (デスクトップまたはラップトップ) に使用することのみを意図しています。 テスト アカウントがログインしていて資格情報を入力できない環境にテスト コンピューターがセットアップされている場合は、この認証モードを使用します。 リモート デバッガーの設定が、認証を受け入れないように設定されていることを確認してください。

## デバッグのオプション

Windows 10 では、 [事前起動](https://msdn.microsoft.com/library/windows/apps/Mt593297)と呼ばれる手法でアプリを事前に起動してから中断することにより、UWP アプリの起動パフォーマンスが向上します。 多くのアプリケーションはこのモードで動作するために特別に何もする必要はありませんが、一部のアプリケーションでは動作を調整する必要があります。 これらのコード パスの問題をデバッグするために、事前起動モードで Visual Studio からアプリのデバッグを開始できます。 デバッグは、Visual Studio プロジェクト (**[デバッグ]** -&gt;**[その他のデバッグ ターゲット]** -&gt;**[ユニバーサル Windows アプリ事前起動のデバッグ]**)、および既にコンピューターにインストールされているアプリ (**[デバッグ]** -&gt;**[その他のデバッグ ターゲット]** -&gt;**[インストールされているアプリケーション パッケージのデバッグ]**、**[事前起動を使用してアプリをアクティブ化]** のボックスをオンにする) の両方でサポートされます。 詳しくは、[事前起動 UWP をデバッグする]( http://go.microsoft.com/fwlink/?LinkId=717245)方法をお読みください。

スタートアップ プロジェクトの **[デバッグ]** プロパティ ページで、次の展開オプションを設定できます。

**[Allow Network Loopback] (ネットワーク ループバックの許可)**

セキュリティ上の理由で、標準的な方法でインストールされた UWP アプリでは、それがインストールされているデバイスに対してネットワーク呼び出しを実行することは許可されません。 既定では、Visual Studio の展開では、展開されたアプリについてこの規則が除外されます。 この除外により、単一コンピューター上で通信手順をテストできます。 アプリを Windows ストアに申請する前に、この除外を使用せずにアプリをテストする必要があります。

ネットワーク ループバックに関する除外をアプリから除去するには:

-   C# および Visual Basic の **[デバッグ]** プロパティ ページで、**[Allow Network Loopback] (ネットワーク ループバックの許可)** チェック ボックスをオフにします。
-   JavaScript および C++ の **[デバッグ]** プロパティ ページで、**[Allow Network Loopback] (ネットワーク ループバックの許可)** 値を **[いいえ]** に設定します。

**[起動しないが、開始時にマイ コードをデバッグする] (C# および Visual Basic) / [アプリの起動] (JavaScript および C++)**

アプリ起動時にデバッグ セッションが自動的に開始されるように展開を構成するには:

-   C# および Visual Basic の **[デバッグ]** プロパティ ページで、**[起動しないが、開始時にマイ コードをデバッグする]** チェック ボックスをオンにします。
-   JavaScript および C++ の **[デバッグ]** プロパティ ページで、**[アプリの起動]** 値を **[はい]** に設定します。





<!--HONumber=Jun16_HO3-->


