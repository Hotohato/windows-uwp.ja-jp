---
author: PatrickFarley
title: ユーザー アクティビティのベスト ・ プラクティス
description: このガイドでは、作成およびユーザーの活動を更新するための推奨事項について説明します。
keywords: ユーザー アクティビティ、ユーザー アクティビティ、タイムライン、Cortana の前回終了した位置から再開する、Cortana の前回終了した位置から再開する、Project Rome
ms.author: pafarley
ms.date: 08/23/2018
ms.topic: article
ms.prod: windows
ms.technology: uwp
ms.localizationpriority: medium
ms.openlocfilehash: b11151df981a4b5ce233458581d21e405be9844c
ms.sourcegitcommit: 3727445c1d6374401b867c78e4ff8b07d92b7adc
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/29/2018
ms.locfileid: "2917573"
---
# <a name="user-activities-best-practices"></a>ユーザー アクティビティのベスト ・ プラクティス

このガイドでは、作成およびユーザーの活動を更新するための推奨事項について説明します。 Windows 上でユーザー ・ アクティビティの機能の概要については、[デバイス間であっても、継続ユーザーのアクティビティ](https://docs.microsoft.com/windows/uwp/launch-resume/useractivities)を参照してください。 または、他の開発プラットフォームでのアクティビティの実装はプロジェクト ローマの[ユーザーのアクティビ ティー」セクション](https://docs.microsoft.com/windows/project-rome/user-activities/)を参照してください。

## <a name="when-to-create-or-update-user-activities"></a>作成またはユーザーのアクティビティを更新する場合

すべてのアプリケーションが異なるため、各開発者はアプリケーション内で操作をユーザーのアクティビティにマップする最善の方法を決定するです。 Cortana およびタイムラインでは、過去に訪問したコンテンツに戻ることにより増加のユーザーの生産性と効率性に重点を置いて、ユーザーの作業中です。

**一般的なガイドライン**

* **関連するユーザー ・ アクションのグループの 1 つのアクティビティを記録します。** これは、音楽の再生リストやテレビ番組に特に関連する: ユーザーの進行状況を反映するために一定の間隔で 1 つのアクティビティを更新することができます。 この例では、複数の数日または数週間にわたって活動の期間を表す複数の履歴項目を 1 つのユーザー アクティビティがあります。 ユーザーがアプリ内で段階的な進行状況を行うドキュメント ベースのアクティビティにも当てはまります。
* **ユーザーのデータをクラウドに格納します。** デバイス間の活動をサポートする場合は、クラウド ストレージの場所にこの活動に従事するために必要なコンテンツが格納されているかどうかを確認する必要があります。 デバイス固有のアクティビティはタイムライン上に表示デバイス アクティビティが作成されたが、他のデバイスでは表示されない可能性があります。
* **操作を再開する必要がないの活動は作成されません。** ステータスを保持しない単純な 1 回限りの操作を実行するアプリケーションを使用する場合、おそらくはユーザー アクティビティを作成する必要はありません。
* **他のユーザーによって完了したアクションの活動は作成されません。** 外部アカウントは、ユーザー メッセージを送信した場合や@-mentionsに、アプリケーション内でする必要がありますいないアクティビティを作成するのです。 アクション センターの通知では、この種類の操作がうまくいきます。
  * コラボレーション シナリオは、例外: を別のユーザーが変更を行った後、ユーザーの場合が存在する場合は複数のユーザーで作業している同じアクティビティ (Word ドキュメントなど) に、します。 この例では、ドキュメントに加えられた変更を反映するように既存の活動を更新することがあります。 これにより、新しい履歴項目を作成することがなくユーザー ・ アクティビティの既存のコンテンツ データの更新が含まれます。

**特定の種類のアプリケーションのためのガイドライン**

すべてのアプリケーションは異なるが、ほとんどのアプリケーションは、対話のパターンを次のいずれかに分類されます。
* **ドキュメント ベースのアプリケーション**などの使用期間を反映した 1 つまたは複数の履歴項目を文書ごとに 1 つのアクティビティを作成します。 ドキュメントに変更を加えると、アクティビティを更新するのには重要です。
* **ゲーム**ゲームのセーブやワールドごとに 1 つのアクティビティを作成します。 ゲームでは、レベルの 1 つのシーケンスのみがサポートされている場合最新の進行状況や達成状況を表示するコンテンツのデータを更新することができますに、時間の経過とともに同じアクティビティを再公開できます。
* **ユーティリティ アプリケーション**-のままにし、再開する必要のあるユーザーがアプリ内で何がある場合は、ユーザーのアクティビティを使用する必要はありません。 良い例は、電卓のような単純なアプリケーションです。
* **基幹業務アプリケーション**などの単純なタスクまたはワークフローを管理するのには多くのアプリケーションが存在します。 独立したワークフローは、アプリを使用してアクセスごとに 1 つのアクティビティを作成する (たとえば、経費精算書はそれぞれ別のアクティビティであるように、ユーザーがアクティビティを特定のレポートが承認されたかどうかを参照してください] をクリックし、)。
* **メディア再生アプリ**-(再生リスト、プログラム、またはスタンドアロンのコンテンツ) などのコンテンツの論理的なグループごとに 1 つのアクティビティを作成します。 アプリの開発者の基になる質問は、スタンドアロンのコンテンツやコレクションの一部として、それぞれのコンテンツ (テレビ録画、音楽) をカウントするかどうかです。 一般的に、コレクションや、連続したコンテンツを再生するのには、ユーザーを選んだ場合、全体としてのコレクションはアクティビティです。 1 つのコンテンツを再生するオプションを選択すると、コンテンツの 1 つはアクティビティです。 以下のより詳細なガイドラインを参照してください。
  * **音楽: アルバム、アーティスト、またはジャンル**-ユーザーは、アルバム、アーティスト、またはジャンルを選択し、**再生**をヒット、そのコレクションはアクティビティです。各曲の別のアクティビティを書き込みません。 1 つのアルバムのような短いコレクションまたはランダムな順序で再生されているコレクションは、ユーザーの現在位置を反映するようにアクティビティを更新する必要可能性がありますありません。 アルバムや再生リストの長い連続再生、アルバム内の位置を記録する必要があります。
  * **音楽: 再生リストのスマート**-ランダムな順序で音楽を再生するアプリケーションはその再生リストの 1 つの活動を記録する必要があります。 ユーザーは、もう一度再生リストを再生する場合は、同じアクティビティの他の履歴レコードを作成します。 順序がランダムであるために、再生リスト内のユーザーの現在位置を記録する必要はありません。
  * **テレビ シリーズ**-現在の 1 つが完了した後、次のエピソードを再生するアプリを構成すると、テレビのシリーズ番組の 1 つのアクティビティを作成する必要があります。 表示の複数のセッション間でさまざまなエピソードを再生する場合に、シリーズでは、現在の位置を反映するように、アクティビティを更新し、複数の履歴レコードが作成されます。
  * **ムービー** : ムービーを選択し、1 つのコンテンツは、独自の履歴レコードを持つ必要があります。 ユーザーは、ムービーの部分で何らかの監視を停止する場合は、それらの位置を記録することをお勧めします。 、それを後で再開するときにアクティビティが中断した場所、ビデオを再開または再開または先頭から開始するかどうか、ユーザーに確認もできませんでした。

## <a name="user-activity-design"></a>ユーザー アクティビティのデザイン

ユーザーの活動は、3 つのコンポーネントで構成されています: URI をアクティブ化、ビジュアルのデータとコンテンツのメタデータ。
* アクティベーション URI は、アプリケーションまたは特定のコンテキストを使用してアプリケーションを再開するのには経験に渡すことができる URI です。 通常、これらのリンクは設定 (たとえば、「マイ ・ app://page2?action=edit」) のプロトコル ハンドラーの形式をとる。 開発者は、アプリケーションによって URI のパラメーターの処理方法を決定する必要があります。 詳細については、 [URI の処理の有効化](https://docs.microsoft.com/windows/uwp/launch-resume/handle-uri-activation)を参照してください。
* 必須および省略可能なプロパティのセットで構成される、視覚的データ (たとえば: タイトル、説明、またはアダプティブ ・ カードの要素)、アクティビティを視覚的に識別できるようにします。 アクティビティのアダプティブ ・ カードのビジュアルを作成する方法のガイドラインについては後述します。
* コンテンツのメタデータは、JSON データをグループ化し、特定のコンテキストの下での活動を取得するために使用します。 通常、これの形式のhttp://schema.orgのデータです。 このデータの入力のガイドラインについては後述します。

### <a name="adaptive-card-design-guidelines"></a>アダプティブ ・ カードのデザインのガイドライン

活動は、タイムラインに表示されます、[アダプティブ ・ カードのフレームワーク](https://docs.microsoft.com/adaptive-cards/)を使用して表示されます。 開発者がそれぞれの活動の適応型のカードは、いない場合は、タイムラインは自動的にアプリケーションの名前またはアイコン、タイトルの必須のフィールドに、およびオプションの説明] フィールドに基づいて、単純なカードを作成します。 

アプリの開発者は、単純な適応型のカードの JSON のスキーマを使用してカスタムのカードを提供することをお勧めします。 アダプティブ ・ カードのオブジェクトを作成する方法の技術的な説明の[アダプティブ ・ カードのマニュアル](https://docs.microsoft.com/adaptive-cards/authoring-cards/getting-started)を参照してください。 下作業は、ユーザーの適応型のカードを設計するためのガイドラインを参照してください。
* イメージを使用します。
  * 可能な場合は、アクティビティごとに、一意のイメージを使用します。 アイコン、アプリケーション名が自動的に表示されます、アクティビティのカードの横にあります。追加のイメージは、ユーザーが探しているアクティビティの検索に役立ちます。
  * イメージがテキストを含める必要がありますいない読み取り、ユーザーが予想されます。 このテキストは、ユーザー補助を必要とすることはできませんし、検索することができません。
  * イメージは、テキストが含まれていないし、の比が 2:1 にトリミングされることができる場合、は、背景イメージとして使用してください。 これは、結果、タイムラインで目立つ太字の活動カード。 イメージは、テキストが、カードに表示されたままとだけサイズの小さいテキストが読みにくくなるよう、アクティビティ名をこの例では、使用することをお勧め少し暗くなります。
  * イメージは、2 分の 1 にトリミングされることはできません、する場合は、アクティビティ カード内で配置する必要があります。  
    * 縦横比が正方形または縦の場合は、余白なしでカードの右側にあるイメージを固定します。
    * 縦横比が横長の場合は、カードの右上隅にイメージを固定します。
* 各アクティビティは、常に表示するアクティビティの名前を付ける必要があります。
  * この名前は、大きな太字のテキスト オプションを使用してカードの左上隅に表示する必要があります。 重要である、容易に認識できるようにはこれだけですが一部のユーザーは Cortana のシナリオで、アクティビティが表示されている場合を参照してください。 タイムラインで同じ名前を示すと、ユーザーは多数のアクティビティを参照するやすくなります。
* ユーザーは、タイムラインでのアプリのアクティビティを簡単に検索できるように、アプリケーションのアクティビティのすべての同じビジュアル スタイルを使用します。
  * などの活動はすべて同じ背景色が使用。
* 補足テキスト情報を控えめに使用します。 
  * カードのテキストを入力しないようにし、だけ右のアクティビティの検索でユーザーを支援または特定のタスクの現在の進行状況) などの状態情報を反映するための補足情報を使用します。

### <a name="content-metadata-guidelines"></a>コンテンツのメタデータのガイドライン

ユーザーの活動は、活動を分類し、推論を生成する Windows と Cortana を使用して、コンテンツのメタデータも格納できます。 (別のアプリケーションと web サイト間でユーザーが特定の製品を購入しようと) の場合、活動を場所 (ユーザーには、休暇が現在調査中です) 場合、オブジェクト (この場合、ユーザーには、何かが現在調査中です) 操作など、特定のトピックをグループ化し、ことができます。 名詞と動詞の活動に関与する両方を表すことをお勧めします。 

[Schema.org](https://schema.org/)での基準を次の JSON のコンテンツのメタデータは次の例では、シナリオを表します"John 再生怒っている鳥 Steve。」。

```json
// John played angry birds with Steve.
{
  "@context": "http://schema.org",
  "@type": "PlayAction",
  "agent": {
    "@type": "Person",
    "name": "John"
  },
  "object": {
    "@type": "MobileApplication",
    "name": "Angry Birds."
  },
  "participant": {
    "@type": "Person",
    "name": "Steve"
  }
}
```

## <a name="key-apis"></a>キー API

* [UserActivities 名前空間](https://docs.microsoft.com/uwp/api/windows.applicationmodel.useractivities)

## <a name="related-topics"></a>関連トピック

* [ユーザー ・ アクティビティ (プロジェクト ローマ文書)](https://docs.microsoft.com/windows/project-rome/user-activities/)
* [アダプティブ カード](https://docs.microsoft.com/adaptive-cards/)
* [アダプティブ カード ビジュアライザー、サンプル](http://adaptivecards.io/)
* [URI のアクティブ化の処理](https://docs.microsoft.com/windows/uwp/launch-resume/handle-uri-activation)
* [Microsoft Graph、アクティビティ フィード、およびアダプティブ カードを使用して、どのプラットフォームでも顧客の関心を惹きつける](https://channel9.msdn.com/Events/Connect/2017/B111)
* [Microsoft Graph](https://developer.microsoft.com/graph/)
