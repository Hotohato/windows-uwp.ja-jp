---
author: PatrickFarley
title: ユーザー アクティビティのベスト プラクティス
description: このガイドでは、作成および更新ユーザー アクティビティの推奨事項について説明します。
keywords: ユーザー アクティビティ、ユーザー アクティビティ、タイムライン、Cortana の前回終了した位置から再開する、Cortana の前回終了した位置から再開する、Project Rome
ms.author: pafarley
ms.date: 08/23/2018
ms.topic: article
ms.prod: windows
ms.technology: uwp
ms.localizationpriority: medium
ms.openlocfilehash: b11151df981a4b5ce233458581d21e405be9844c
ms.sourcegitcommit: 2a63ee6770413bc35ace09b14f56b60007be7433
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/12/2018
ms.locfileid: "3933371"
---
# <a name="user-activities-best-practices"></a>ユーザー アクティビティのベスト プラクティス

このガイドでは、作成および更新ユーザー アクティビティの推奨事項について説明します。 Windows でユーザー アクティビティの機能の概要については、[デバイス間でも、ユーザー アクティビティを継続](https://docs.microsoft.com/windows/uwp/launch-resume/useractivities)を参照してください。 または、他の開発プラットフォームでアクティビティの実装に関する"rome"プロジェクトの[ユーザー アクティビティのセクション](https://docs.microsoft.com/windows/project-rome/user-activities/)をご覧ください。

## <a name="when-to-create-or-update-user-activities"></a>ユーザー活動作成または更新するタイミング

すべてのアプリが異なるため、それがユーザーのアクティビティに、アプリ内での操作をマップする最善の方法を判断するには、各開発者。 Cortana とタイムラインは、過去に訪問したコンテンツに戻ってにサポートすることで増加のユーザーの生産性と効率焦点を当てて、ユーザーのアクティビティがそのようはされます。

**一般的なガイドライン**

* **関連するユーザーの操作のグループの 1 つのアクティビティを記録します。** これは特に音楽の再生リストまたはテレビを示しています。 1 つのアクティビティは、ユーザーの進行状況を反映するように、一定の間隔で更新できます。 この例では、複数の日または週エンゲージメントの期間を表す複数の履歴の項目を 1 つのユーザー アクティビティがあります。 これで、ユーザーがアプリ内で進行状況を段階的なドキュメント ベースのアクティビティにも当てはまります。
* **ユーザー データをクラウドに格納します。** クロス デバイスの動作をサポートする場合は、このアクティビティを再利用するために必要なコンテンツがクラウド ストレージの場所に格納されているかどうかを確認する必要があります。 デバイスに固有のアクティビティに表示されますタイムライン デバイスで、アクティビティが作成されたが他のデバイスでされない可能性があります。
* **ユーザーが再開する必要はありません操作の活動は作成されません。** アプリケーションを使用して、状態を保持しないシンプルで 1 回限りの操作を完了した場合をおそらくする必要はありませんユーザー アクティビティを作成します。
* **他のユーザーが完了したアクションの活動は作成されません。** 外部のアカウントは、ユーザー メッセージを送信した場合または@-mentionsに、アプリ内でする必要がありますいないアクティビティを作成するためです。 この種類の動作は、アクション センターの通知申し込むが向上します。
  * 共同作業のシナリオは、例外: 複数のユーザーはで動作しない場合、同じアクティビティまとめて (を Word 文書) がありますが別のユーザーが変更を行った後、ユーザーの場合。 この例では、ドキュメントに加えられた変更を反映するように、既存のアクティビティを更新することがあります。 これにより、新しい履歴項目を作成することがなく、既存のユーザーのアクティビティ コンテンツ データの更新が含まれます。

**特定の種類のアプリのガイドライン**

すべてのアプリはさまざまなですが、ほとんどのアプリは、次の対話式操作パターンのいずれかに分類されます。
* **アプリのドキュメントに基づく**-使用の期間を反映した 1 つまたは複数の履歴項目のドキュメント、ごとに 1 つのアクティビティを作成します。 ドキュメントに対する変更として、アクティビティを更新する重要です。
* **ゲーム**: ゲームの保存またはワールドごとに 1 つのアクティビティを作成します。 ゲームのレベルの 1 つのシーケンスのみをサポートする場合、最新の進行状況や実績を表示するコンテンツのデータを更新することができますに、時間の経過と共に同じアクティビティを再公開できます。
* **ユーティリティ アプリ**である場合はユーザーのままにし、再開する必要がありますアプリ内で何はユーザー アクティビティを使用する必要はありません。 良い例では、電卓などの単純なアプリです。
* **基幹業務アプリ**などの単純なタスクまたはワークフローを管理するための多くのアプリが存在します。 独立したワークフローがアプリを使用してアクセスごとに 1 つのアクティビティを作成する (たとえば、経費レポートをそれぞれが別々 のアクティビティをしているユーザー アクティビティを特定のレポートが承認されたかどうかに表示するをクリックし、可能性があります)。
* **メディア再生アプリ**: (再生リスト、プログラム、またはスタンドアロン コンテンツ) などのコンテンツの論理グループごとに 1 つのアクティビティを作成します。 アプリの開発者の基になる質問は、スタンドアロンのコンテンツや、コレクションの一部としてコンテンツ (テレビ エピソード、曲) の各要素をカウントするかどうか。 一般的な原則として、ユーザーが選んだコレクションまたは、順序付けされたコンテンツを再生する場合、全体としてコレクションは、アクティビティです。 1 つのコンテンツを再生することを選択する場合は 1 つのコンテンツのアクティビティです。 以下の具体的なガイドラインを参照してください。
  * **音楽: アルバムやアーティスト/ジャンル**-そのコレクション アクティビティは、ユーザーが、アルバム、アーティスト、またはジャンルの選択、**再生**に達した場合は、各曲の別のアクティビティを書き込むできません。 1 つのアルバムのように短いコレクションまたはコレクション ランダムな順序で再生されている、する可能性があります、ユーザーの現在の位置を反映するように活動を更新する必要ありません。 長いシーケンシャルの再生、アルバムやプレイリストなどでは、アルバム内の位置を記録する必要があります。
  * **音楽: スマート プレイリスト**-ランダムな順序で音楽を再生するアプリケーションはその再生リストの 1 つのアクティビティを記録する必要があります。 ユーザーは、もう一度、プレイリストを再生する場合、は、同じアクティビティに関する追加の履歴レコードを作成します。 ランダムな順序はために、再生リスト内のユーザーの現在の位置を記録する必要はありません。
  * **テレビ シリーズ**: 現在の 1 つが完了した後、次のエピソードを再生するアプリを構成する場合は、テレビの一連の 1 つのアクティビティを作る必要があります。 複数の表示セッション間でさまざまなエピソードを再生する場合にシリーズでは、現在の位置を反映するように、アクティビティを更新し、複数の履歴レコードが作成されます。
  * **ビデオ**: ビデオが 1 つのコンテンツと、独自の履歴レコードがあります。 ユーザーは、映画の一部方法を通じてウォッチを停止する場合の位置を記録することをお勧めします。 今後、再開することを希望する場合、アクティビティが中断したところ、ムービーを再開または再開またはから開始するかどうか、ユーザーにも確認できませんでした。

## <a name="user-activity-design"></a>ユーザー アクティビティの設計

ユーザー アクティビティは、3 つのコンポーネントで構成されます。、アクティブ化 URI、ビジュアルのデータとコンテンツのメタデータ。
* アクティブ化 URI は、特定のコンテキストでアプリケーションを再開するためには、アプリケーションまたはエクスペリエンスを渡すことができる URI です。 通常、これらのリンク、スキーム (たとえば、"my-app://page2?") のプロトコル ハンドラーの形式になります。 アプリでの URI パラメーターの処理方法を判断する開発者がします。 詳細については、[処理の URI のアクティブ化](https://docs.microsoft.com/windows/uwp/launch-resume/handle-uri-activation)を参照してください。
* 一連の必須およびオプションのプロパティから成る、ビジュアルのデータ (例: タイトル、説明、またはアダプティブ カード要素)、ユーザー アクティビティを視覚的に識別できるようにします。 アダプティブ カードの視覚効果を作成、アクティビティのガイドラインについては以下をご覧ください。
* コンテンツのメタデータは、JSON データをグループ化し、特定のコンテキストでアクティビティを取得することができます。 形式は通常、このかかるhttp://schema.orgデータ。 このデータへの入力のガイドラインについては以下をご覧ください。

### <a name="adaptive-card-design-guidelines"></a>アダプティブ カードの設計ガイドライン

アクティビティがタイムラインに表示、[アダプティブ カードのフレームワーク](https://docs.microsoft.com/adaptive-cards/)を使用して表示されます。 開発者はアクティビティごとにアダプティブ カードを用意していない、タイムラインにアプリの名前/アイコン、必須のタイトル フィールド、およびオプションの説明フィールドに基づいて、簡単なカードは自動的に作成します。 

アプリ開発者は、単純なアダプティブ カード JSON スキーマを使用してカスタムのカードを提供することをお勧めします。 アダプティブ カード オブジェクトを作成する方法に関する技術的な手順については、[アダプティブ カードのドキュメント](https://docs.microsoft.com/adaptive-cards/authoring-cards/getting-started)を参照してください。 ユーザー アクティビティでアダプティブ カードの設計については、以下のガイドラインを参照してください。
* イメージを使用します。
  * 可能であれば、アクティビティごとに一意のイメージを使用します。 アプリケーション名、アイコンが自動的に表示されますアクティビティのカードの横にあります。追加の画像はユーザーが探していたアクティビティを検索に役立ちます。
  * 画像は、テキストを含めないでください読み取りをユーザーに期待されます。 このテキストを使用して、アクセシビリティのニーズを持つユーザーが利用できない、検索することはできません。
  * イメージは、テキストが含まれていないし、2:1 比に関するにトリミングされることができます、背景画像として使用する必要があります。 これにより、タイムラインに目立つ太字アクティビティ カード。 イメージは、テキストは、カードに表示されたままおよびのみ小さいテキストが読みづらくなるになるよう、アクティビティの名前をここでは、使用することをお勧めすること若干暗くされます。
  * 2:1 には、画像がトリミングされることはできない場合、は、アクティビティ カード内に配置する必要があります。  
    * 縦横比が正方形または縦向きの場合は、余白なしで、カードの右側にある画像を固定します。
    * 縦横比が横の場合は、カードの右上隅に画像を固定します。
* 各アクティビティは常に表示する必要があります、アクティビティの名前を付ける必要です。
  * この名前は、太字の大規模なオプションを使用して、カードの左上隅に表示する必要があります。 これは、唯一の名前はわかりやすいは一部のユーザーが Cortana のシナリオでアクティビティを表示するタイミングを参照してください。 タイムラインで、同じ名前の表示とがユーザー アクティビティの大規模な数の参照を容易になります。
* タイムラインでユーザーがアプリのアクティビティを簡単に見つけられるように、すべてのアプリから、アクティビティの同じ視覚スタイルを使用します。
  * たとえば、アクティビティする必要がありますすべて同じ背景色が使用されます。
* 補足的なテキスト情報を慎重に使用します。 
  * テキストに、カードの入力を回避し、ユーザーを支援して適切なアクティビティまたは (特定のタスクで現在の進行状況) などの状態情報を反映する補足の情報のみを使用します。

### <a name="content-metadata-guidelines"></a>コンテンツのメタデータのガイドライン

ユーザー アクティビティは、コンテンツのメタデータは、Windows や Cortana を使用して、アクティビティの分類推論を生成をも含めることができます。 (この場合、ユーザーがさまざまなアプリや web サイト間で特定の製品のショッピング)、アクティビティを位置情報 (ユーザーが休暇を調査中) 場合、オブジェクト (この場合、ユーザーには、何かが現在調査中です) またはアクションなどの特定のトピックをグループ化し、ことができます。 名詞やアクティビティに関連する動詞の両方を表現することをお勧めします。 

次の例では、コンテンツのメタデータの[Schema.org](https://schema.org/)標準の次の JSON を表すシナリオ:「John をプレイ怒って鳥 Steve」。

```json
// John played angry birds with Steve.
{
  "@context": "http://schema.org",
  "@type": "PlayAction",
  "agent": {
    "@type": "Person",
    "name": "John"
  },
  "object": {
    "@type": "MobileApplication",
    "name": "Angry Birds."
  },
  "participant": {
    "@type": "Person",
    "name": "Steve"
  }
}
```

## <a name="key-apis"></a>キー API

* [いる場合 UserActivities 名前空間](https://docs.microsoft.com/uwp/api/windows.applicationmodel.useractivities)

## <a name="related-topics"></a>関連トピック

* [ユーザー アクティビティ ("rome"プロジェクト ドキュメント)](https://docs.microsoft.com/windows/project-rome/user-activities/)
* [アダプティブ カード](https://docs.microsoft.com/adaptive-cards/)
* [アダプティブ カード ビジュアライザー、サンプル](http://adaptivecards.io/)
* [URI のアクティブ化の処理](https://docs.microsoft.com/windows/uwp/launch-resume/handle-uri-activation)
* [Microsoft Graph、アクティビティ フィード、およびアダプティブ カードを使用して、どのプラットフォームでも顧客の関心を惹きつける](https://channel9.msdn.com/Events/Connect/2017/B111)
* [Microsoft Graph](https://developer.microsoft.com/graph/)
