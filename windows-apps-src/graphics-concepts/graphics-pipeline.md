---
title: グラフィックス パイプライン
description: Direct3D グラフィックス パイプラインは、リアルタイム ゲーム アプリケーション用のグラフィックスを生成できるように設計されています。 データは、構成可能またはプログラミング可能な各ステージを通じて、入力から出力へと流れます。
ms.assetid: C9519AD0-5425-48BD-9FF4-AED8959CA4AD
keywords:
- グラフィックス パイプライン
- パイプラインのステージ
author: michaelfromredmond
ms.author: mithom
ms.date: 02/08/2017
ms.topic: article
ms.prod: windows
ms.technology: uwp
ms.localizationpriority: medium
ms.openlocfilehash: 6cb50af5facdbf4271c9911f0e1f536dead0b8b8
ms.sourcegitcommit: 897a111e8fc5d38d483800288ad01c523e924ef4
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 08/13/2018
ms.locfileid: "1044911"
---
# <a name="graphics-pipeline"></a>グラフィックス パイプライン


Direct3D グラフィックス パイプラインは、リアルタイム ゲーム アプリケーション用のグラフィックスを生成できるように設計されています。 データは、構成可能またはプログラミング可能な各ステージを通じて、入力から出力へと流れます。

すべてのステージは、Direct3D API を使用して構成できます。 一般的なシェーダー コア (角丸四角形のブロック) の機能を利用するステージは、[HLSL](https://msdn.microsoft.com/library/windows/desktop/bb509561) プログラミング言語を使用することによってプログラミングできます。 これにより、パイプラインは柔軟性および適応性が非常に高くなっています。

最もよく使用されるのは、頂点シェーダー (VS) ステージとピクセル シェーダー (PS) ステージです。 これらのシェーダー ステージを用意しない場合は、既定の何もしない、パススルー頂点シェーダーとピクセル シェーダーが使われます。

![Direct3D 11 のプログラム可能なパイプラインでのデータ フローの図](images/d3d11-pipeline-stages.jpg)

## <a name="input-assembler-stage"></a>入力アセンブラー ステージ

|-|-| |目的 |[入力アセンブラー (IA) ステージ](input-assembler-stage--ia-.md)装置プリミティブと三角形、線のポイント] など、パイプラインにナチュラル データ セマンティクス シェーダーを既にしていないプリミティブに処理を減らすことでより効率的に使用するための Id を含む処理します |。|入力 |プリミティブのデータ (三角形、線、またはポイント) をメモリにバッファーをユーザーが入力します。 隣接性データが含まれる場合もあります。 個々 の三角形の 3 つの頂点とナチュラルあたりのデータの三角形の可能性がある 3 つの頂点三角形になります |。|出力 |接続されている (プリミティブ ID、インスタンス ID、頂点の ID など) の値のシステムによって生成されるプリミティブ |。

## <a name="vertex-shader-stage"></a>頂点シェーダー ステージ

|-|-| |目的 |[頂点シェーダー (と) のステージ](vertex-shader-stage--vs-.md)では、表示、および照明通常、変換などの操作を実行する頂点を処理します。 頂点シェーダーは 1 つの入力頂点を受け取り、1 つの出力頂点を生成します。 変換、Skinning、Morphing 頂点照明などの個々 の頂点ごとの操作 |。|入力 |1 つの頂点を VertexID とインスタンス Id のシステムによって生成される値を持つします。 各頂点シェーダー入力頂点を 16 32 ビット ベクター (それぞれの最大 4 つのコンポーネント) で構成できます |。|出力 |1 つの頂点します。 各出力頂点 16 32 ビット 4 コンポーネント ベクターで構成できます |。
 
## <a name="hull-shader-stage"></a>ハル シェーダー ステージ
 
|-|-| |目的 |[船体シェーダー (H) ステージ](hull-shader-stage--hs-.md)は、多数の三角形にモデルの 1 つの領域を効率的に分割レンダリング面のステージのいずれかです。 ハル シェーダーは、パッチごとに 1 回呼び出され、低次サーフェスを定義する入力制御点を、パッチを構成する制御点に変換します。 テッセレータ (TS) ステージおよびドメイン シェーダー (DS) ステージのデータを提供するには、いくつか修正あたり計算を行うこと |。|入力 |1 から 32 入力コントロール ポイント、まで共同定義下位の表面 |。|出力 |1 ~ 32 出力コントロール ポイント、これを構成する更新プログラム。 船体シェーダー テッセレータ (TS) のステージでは、コントロール ポイントの数、更新プログラムの顔の種類の分割 tessellating するときに使用する種類などの状態の宣言します |。

## <a name="tessellator-stage"></a>テッセレータ ステージ

|-|-| |目的 |[テッセレータ (TS) のステージ](tessellator-stage--ts-.md)がジオメトリ更新プログラムを表し、これらのサンプルを接続する小さなオブジェクト (三角形、ポイント、または線) のセットを生成するドメインのサンプル パターンを作成します |。|入力 |更新プログラムのタイプを使用して、レンダリング面の要因 (ドメインがテッセレーションする詳細な方法を指定する)、分割 (これは、更新プログラムをスライスするためのアルゴリズムを指定するには) 船体シェーダー ステージからに渡されるあたりテッセレータが 1 回見なされます。 | |出力 |テッセレータ出力 uv (および必要に応じて w) 座標およびドメイン シェーダー ステージに等高線トポロジ |。

## <a name="domain-shader-stage"></a>ドメイン シェーダー ステージ

|-|-| |目的 |[ドメイン シェーダー (DS) のステージ](domain-shader-stage--ds-.md)の出力更新プログラムに細分化されたポイントの頂点位置を計算します。各ドメインのサンプルに対応する頂点の位置を計算します。 ドメイン シェーダーを実行すると、テッセレータあたりステージ出力ポイントと船体シェーダーへのアクセスを読み取り専用更新プログラムの出力があり、更新プログラムの定数、出力し、テッセレータ ステージ UV 座標を出力します |。|入力 |ドメイン シェーダー[船体シェーダー (H) 段階](hull-shader-stage--hs-.md)からの出力コントロール ポイントを使用します。 ハル シェーダーの出力: 制御点、パッチ定数データ、テセレーション係数 (テセレーション係数には、固定関数テッセレータによって使用される値と、整数テセレーションによる丸め前の未処理の値を含めることができ、ジオモーフィングなどが容易になります)。 [テッセレータ (TS) 段階](tessellator-stage--ts-.md)からの出力座標あたり 1 回ドメイン シェーダーが呼び出されます |。|出力 |ドメイン シェーダー (DS) のステージが出力の修正プログラムに細分化されたポイントの頂点の位置を出力します |。

## <a name="geometry-shader-stage"></a>ジオメトリ シェーダー ステージ

|-|-| |目的 |[ジオメトリ シェーダー (G) ステージ](geometry-shader-stage--gs-.md)の処理全体プリミティブ: 三角形、行数、およびと共に、隣接する頂点をポイントします。 これは、ジオメトリ増幅と減幅をサポートします。 ジオメトリ シェーダー ステージは、ポイント スプライト拡張、動的パーティクル システム、Fur/Fin の生成、シャドウ ボリュームの生成、単一パスでのキューブマップへのレンダリング、プリミティブ単位のマテリアル スワップ、プリミティブ単位のマテリアル セットアップ (プリミティブ データとしての重心座標の生成も含まれています。これにより、ピクセル シェーダーはカスタム属性補間を実行できます) などのアルゴリズムに適しています。 | |入力 |頂点シェーダーは、1 つの頂点を塗るとは異なり、ジオメトリ シェーダーの入力は、(三角形の 3 つの頂点、線、2 つの頂点または系列の 1 つの頂点) の完全な基本の頂点 |。|出力 |ジオメトリ シェーダー (G) ステージは、選択した 1 つのトポロジを形成する複数の頂点を出力することができます。 利用可能なジオメトリ シェーダーの出力トポロジには、<strong>tristrip</strong>、<strong>linestrip</strong>、および<strong>pointlist</strong> があります。 生成されるプリミティブの数は、ジオメトリ シェーダーの呼び出し内で自由に変えることができますが、生成可能な頂点の最大数は、静的に宣言する必要があります。 ジオメトリ シェーダー性向上からストリップの長さを任意でことができ、 [RestartStrip](https://msdn.microsoft.com/library/windows/desktop/bb509660) HLSL 関数を使って、新しいストライプを作成することができます |。

## <a name="stream-output-stage"></a>ストリーム出力ステージ

|-|-| |目的 |[ステージのストリーム出力 (など)](stream-output-stage--so-.md)を継続的に出力 (またはストリーム) 頂点のデータを前のアクティブなステージを 1 つ以上のメモリにバッファーされます。 データをメモリには、入力データ、または読み戻し CPU からとしてパイプラインに recirculated ことができます |。|入力 |前のパイプライン ステージから頂点データ |。|出力 |ストリーム出力 (など) のステージを継続的に出力 (またはストリーム) 頂点のデータをジオメトリ シェーダー (G) ステージなど、以前のアクティブなステージを 1 つ以上のメモリにバッファーされます。 メモリ (またはかどうか DS もアクティブでない頂点シェーダー (と) 段階から) 内のバッファーにドメイン シェーダー (DS) の段階から頂点データが継続的に出力ジオメトリ シェーダー (G) ステージがアクティブでないストリーム出力 (など) のステージがアクティブな場合は、. |

## <a name="rasterizer-stage"></a>ラスタライザー ステージ

|-|-| |目的 |ビューのではない[ラスタライザー (は) ステージ](rasterizer-stage--rs-.md)クリップ プリミティブでは、ピクセル シェーダー (PS) のステージでは、プリミティブを準備し、ピクセル シェーダーを起動する方法を決定します。 変換がリアルタイムの 3D 画像を表示すること (ピクセル単位の構成) ラスター イメージに情報 (の図形またはプリミティブから構成される) をベクトルします |。|入力 |頂点 (x、y、z、w) ラスタライザーに着信ステージと見なされます同次クリップ空間にします。 この X 軸右向き、上向きの Y 座標と Z カメラから遠い方ポイントします |。|出力 |実際のピクセルを表示する必要があります。 補間で使用するためのいくつかの頂点属性が含まれています |。

## <a name="pixel-shader-stage"></a>ピクセル シェーダー ステージ
 
|-|-| |目的 |[ピクセル シェーダー (PS) ステージ](pixel-shader-stage--ps-.md)を基本の補間のデータを受信し、色などのピクセル単位のデータを生成します |。|入力 |ジオメトリ シェーダーせずにパイプラインを構成する場合は、ピクセルシェーダーを 16、32 ビット、4 コンポーネントの入力に限定されます。 それ以外の場合、ピクセル シェーダーは 32 ビット、4 成分の入力を 32 個まで受け取ることができます。 ピクセル シェーダーの入力データには (パースペクティブ補正あり/なしで補間可能な) 頂点属性が含まれます。または、ピクセル シェーダーの入力データをプリミティブ単位の定数として処理することもできます。 ピクセル シェーダー入力は、宣言された補間モードに基づき、ラスター化されているプリミティブの頂点属性から補間されます。 プリミティブがラスター化前にクリップされた場合は、クリッピング処理中に補間モードが受け入れられます。 | |出力 |ピクセルシェーダー出力 8 の場合は、32 ビットまで 4 コンポーネントの色] または [色なしピクセルを破棄する場合。 使用されることができます。 前に、ピクセル シェーダー出力レジスタ コンポーネントを宣言する必要があります。各に登録することを許可する、重複しない値の出力書き込みマスク |。

## <a name="output-merger-stage"></a>出力マージャー ステージ
 
|-|-| |目的 |[ステージの出力合併 (OM)](output-merger-stage--om-.md)には、最終的なパイプラインの結果を生成するレンダリング ターゲットと奥行き/ステンシル バッファーの内容がさまざまな種類の出力データ (ピクセル シェーダー値、奥行きおよびステンシルの情報) が組み込まれ |。|入力 |出力合併入力は、ピクセル シェーダー、レンダリング ターゲットの内容および奥行き/ステンシル バッファーの内容によって生成するピクセル データのパイプライン状態です |。|出力 |[最終版にするピクセル カラーを表示します |。

## <a name="related-topics"></a>関連トピック

- [Direct3D グラフィックスの学習ガイド](index.md)

- [計算パイプライン](compute-pipeline.md)
